export default {
  deviewCodeName: 'component_view',
  deviewId: 'c83be6055f327058b04bda4472e4da85',
  accUserMode: 2,
  capLanguageRes: {
    lanResTag: 'PAGE.CAPTION.MAIL_THREAD.COMPONENT_VIEW',
  },
  caption: '邮件会话',
  codeName: 'mail_thread_component_view',
  appDataEntityId: 'ehrapp.mail_thread',
  appViewParams: [
    {
      key: 'SRFRENEWSESSION',
      value: 'true',
      name: 'SRFRENEWSESSION',
      id: 'srfrenewsession',
    },
  ],
  viewLayoutPanel: {
    layoutBodyOnly: true,
    viewProxyMode: true,
    layoutMode: 'FLEX',
    layout: {
      layout: 'FLEX',
    },
    rootPanelItems: [
      {
        actionGroupExtractMode: 'ITEM',
        panelItems: [
          {
            actionGroupExtractMode: 'ITEM',
            panelItems: [
              {
                actionGroupExtractMode: 'ITEM',
                panelItems: [
                  {
                    actionGroupExtractMode: 'ITEM',
                    panelItems: [
                      {
                        actionGroupExtractMode: 'ITEM',
                        panelItems: [
                          {
                            actionGroupExtractMode: 'ITEM',
                            panelItems: [
                              {
                                actionType: 'NONE',
                                buttonStyle: 'DEFAULT',
                                buttonType: 'PANELBUTTON',
                                renderMode: 'BUTTON',
                                tooltip: '发送消息',
                                uiactionTarget: 'NONE',
                                caption: '发送消息',
                                itemStyle: 'DEFAULT',
                                itemType: 'BUTTON',
                                layoutPos: {
                                  shrink: 1,
                                  layout: 'FLEX',
                                },
                                showCaption: true,
                                id: 'button_calluilogic',
                              },
                              {
                                actionType: 'UIACTION',
                                buttonStyle: 'DEFAULT',
                                buttonType: 'PANELBUTTON',
                                uiactionId:
                                  'open_schedule_activities_view@mail_activity_schedule',
                                renderMode: 'BUTTON',
                                tooltip: '活动',
                                uiactionTarget: 'NONE',
                                caption: '活动',
                                itemStyle: 'DEFAULT',
                                itemType: 'BUTTON',
                                layoutPos: {
                                  shrink: 1,
                                  layout: 'FLEX',
                                },
                                showCaption: true,
                                id: 'button_calluilogic2',
                              },
                            ],
                            layout: {
                              dir: 'row',
                              layout: 'FLEX',
                            },
                            dataRegionType: 'INHERIT',
                            caption: '容器',
                            itemStyle: 'DEFAULT',
                            itemType: 'CONTAINER',
                            layoutPos: {
                              shrink: 1,
                              layout: 'FLEX',
                            },
                            id: 'container2',
                          },
                          {
                            actionGroupExtractMode: 'ITEM',
                            panelItems: [
                              {
                                actionGroupExtractMode: 'ITEM',
                                panelItems: [
                                  {
                                    actionGroupExtractMode: 'ITEM',
                                    panelItems: [
                                      {
                                        rawItem: {
                                          sysImage: {
                                            cssClass: 'fa fa-paperclip',
                                            glyph: 'xf0c6@FontAwesome',
                                          },
                                          contentType: 'IMAGE',
                                          predefinedType: 'STATIC_IMAGE',
                                          id: 'attachments',
                                        },
                                        caption: '图片',
                                        itemStyle: 'DEFAULT',
                                        itemType: 'RAWITEM',
                                        layoutPos: {
                                          shrink: 1,
                                          layout: 'FLEX',
                                        },
                                        sysImage: {
                                          cssClass: 'fa fa-paperclip',
                                          glyph: 'xf0c6@FontAwesome',
                                        },
                                        showCaption: true,
                                        id: 'attachments',
                                      },
                                      {
                                        editor: {
                                          halign: 'LEFT',
                                          renderMode: 'TEXT_DYNAMIC',
                                          valign: 'MIDDLE',
                                          wrapMode: 'NOWRAP',
                                          editorType: 'SPAN',
                                          predefinedType: 'FIELD_TEXT_DYNAMIC',
                                          valueType: 'SIMPLE',
                                          editable: true,
                                          id: 'attachment_count',
                                        },
                                        viewFieldName:
                                          'message_attachment_count',
                                        allowEmpty: true,
                                        caption: '文本(动态)',
                                        itemStyle: 'DEFAULT',
                                        itemType: 'FIELD',
                                        layoutPos: {
                                          shrink: 1,
                                          layout: 'FLEX',
                                          spacingLeft: 'OUTERSMALL',
                                        },
                                        id: 'attachment_count',
                                      },
                                    ],
                                    layout: {
                                      align: 'flex-start',
                                      dir: 'row',
                                      layout: 'FLEX',
                                      valign: 'center',
                                    },
                                    dataRegionType: 'INHERIT',
                                    caption: '容器',
                                    itemStyle: 'DEFAULT',
                                    itemType: 'CONTAINER',
                                    layoutPos: {
                                      shrink: 1,
                                      heightMode: 'FULL',
                                      layout: 'FLEX',
                                      spacingRight: 'OUTERSMALL',
                                    },
                                    id: 'attachment_count_group',
                                  },
                                  {
                                    editor: {
                                      singleSelect: true,
                                      enableAC: true,
                                      forceSelection: true,
                                      showTrigger: true,
                                      editorParams: {
                                        deptauthentity: 'ehrapp.res_user',
                                        DEFAULTATNVALUE: '40',
                                        CODELISTID: 'mail__attention_type',
                                        userauthentity: 'ehrapp.res_partner',
                                        'SRFNAVPARAM.n_department_id_eq':
                                          '%srforgsectorid%',
                                        AC: 'TRUE',
                                        TRIGGER: 'TRUE',
                                        SELFFILLMAP:
                                          '{"user_id":"partner_id","user_name":"name"}',
                                        URL: 'res_partners/fetch_default',
                                        PICKUPVIEW: 'FALSE',
                                        USERMAP:
                                          '{"id":"id","name":"name","avatar":"avatar"}',
                                        USERMETHOD: 'post',
                                        DEPTURL: '/res_users/fetch_default',
                                        DEPTMETHOD: 'post',
                                        DEPTMAP:
                                          '{"id":"id","name":"name","avatar":"avatar"}',
                                        CODELISTMAP:
                                          '{"FOLLOWED":[20,30,40],"NOTFOLLOWING":[10]}',
                                      },
                                      editorStyle: 'ATTENTION_EDITOR',
                                      editorType: 'PICKEREX_TRIGGER',
                                      sysPFPluginId: 'attention',
                                      predefinedType: 'FIELD_PICKER',
                                      valueType: 'SIMPLE',
                                      editable: true,
                                      navigateParams: [
                                        {
                                          key: 'n_department_id_eq',
                                          value: 'srforgsectorid',
                                          id: 'n_department_id_eq',
                                        },
                                      ],
                                      id: 'mail_followers',
                                    },
                                    viewFieldName: 'FOLLOWERS',
                                    allowEmpty: true,
                                    caption: '数据选择',
                                    itemStyle: 'DEFAULT',
                                    itemType: 'FIELD',
                                    layoutPos: {
                                      shrink: 1,
                                      layout: 'FLEX',
                                    },
                                    id: 'mail_followers',
                                  },
                                ],
                                layout: {
                                  align: 'flex-start',
                                  dir: 'row',
                                  layout: 'FLEX',
                                  valign: 'center',
                                },
                                dataRegionType: 'INHERIT',
                                caption: '容器',
                                itemStyle: 'DEFAULT',
                                itemType: 'CONTAINER',
                                layoutPos: {
                                  shrink: 1,
                                  layout: 'FLEX',
                                },
                                id: 'thread_panel',
                              },
                            ],
                            predefinedType: 'CONTAINER_SINGLEDATA',
                            layout: {
                              layout: 'FLEX',
                            },
                            dataName: 'srfactiveviewdata',
                            dataRegionType: 'SINGLEDATA',
                            dataSourceType: 'TOPVIEWSESSIONPARAM',
                            caption: '单项数据容器',
                            itemStyle: 'DEFAULT',
                            itemType: 'CONTAINER',
                            layoutPos: {
                              shrink: 1,
                              layout: 'FLEX',
                              spacingLeft: 'INNERSMALL',
                              spacingRight: 'INNERSMALL',
                            },
                            id: 'container_thread',
                          },
                        ],
                        layout: {
                          align: 'space-between',
                          dir: 'row',
                          layout: 'FLEX',
                          valign: 'center',
                        },
                        dataRegionType: 'INHERIT',
                        caption: '容器',
                        itemStyle: 'DEFAULT',
                        itemType: 'CONTAINER',
                        layoutPos: {
                          colMD: 24,
                          layout: 'TABLE_24COL',
                          spacingTop: 'OUTERSMALL',
                        },
                        id: 'container1',
                      },
                    ],
                    layout: {
                      columnCount: 24,
                      layout: 'TABLE_24COL',
                    },
                    dataRegionType: 'INHERIT',
                    caption: '面板容器',
                    itemStyle: 'DEFAULT',
                    itemType: 'CONTAINER',
                    layoutPos: {
                      grow: 12,
                      shrink: 1,
                      layout: 'SIMPLEFLEX',
                    },
                    id: 'container5',
                  },
                  {
                    actionGroupExtractMode: 'ITEM',
                    panelItems: [
                      {
                        actionGroupExtractMode: 'ITEM',
                        panelItems: [
                          {
                            actionGroupExtractMode: 'ITEM',
                            panelItems: [
                              {
                                actionGroupExtractMode: 'ITEM',
                                panelItems: [
                                  {
                                    actionGroupExtractMode: 'ITEM',
                                    panelItems: [
                                      {
                                        editor: {
                                          editorParams: {
                                            EXTFIELDVALUE: 'file:formitem',
                                            REPLYSCRIPT:
                                              'value?.replace(/@{[^,]*,"name":"(.*?)"}/g,"<span class=\'comment-tag\'>@$1</span>").replace(/@{[^,]*,name=(.*?)}/g,"<span class=\'comment-tag\'>@$1</span>").replaceAll(/\\#\\{(\\".+?\\":\\".+?\\")(,\\"icon\\":\\"((.|[\\t\\r\\f\\n\\s])+?)\\")*\\}/g, (x, value, icon) => {const item = JSON.parse("{" + value + "}"); if (icon) { icon = icon.slice(8).slice(1, -1).trim(); } return controller.markerController.parseCommentTag({icon, ...item});})',
                                            LINKVIEWID:
                                              'plmweb.recent_custom_redirect_view',
                                          },
                                          editorStyle: 'COMMENT_EDITOR',
                                          editorType: 'HTMLEDITOR',
                                          sysPFPluginId: 'comment',
                                          predefinedType: 'FIELD_TEXT_DYNAMIC',
                                          valueType: 'SIMPLE',
                                          editable: true,
                                          id: 'message_inputbox',
                                        },
                                        allowEmpty: true,
                                        caption: '文本(动态)',
                                        itemStyle: 'DEFAULT',
                                        itemType: 'FIELD',
                                        layoutPos: {
                                          grow: 10,
                                          shrink: 1,
                                          layout: 'FLEX',
                                        },
                                        id: 'message_inputbox',
                                      },
                                      {
                                        rawItem: {
                                          sysImage: {
                                            cssClass:
                                              'fa fa-arrow-circle-o-right',
                                            glyph: 'xf18e@FontAwesome',
                                          },
                                          contentType: 'IMAGE',
                                          dynaClass:
                                            "['ibiz-panel-button--comment__icon']",
                                          sysCss: {
                                            cssName: 'comment_icon',
                                          },
                                          predefinedType: 'STATIC_IMAGE',
                                          rawItemHeight: 48,
                                          id: 'comment_icon',
                                        },
                                        caption: '图片',
                                        contentHeight: 48,
                                        height: 48,
                                        itemStyle: 'DEFAULT',
                                        itemType: 'RAWITEM',
                                        layoutPos: {
                                          shrink: 0,
                                          height: 48,
                                          heightMode: 'PX',
                                          layout: 'FLEX',
                                        },
                                        sysCss: {
                                          cssName: 'comment_icon',
                                        },
                                        sysImage: {
                                          cssClass:
                                            'fa fa-arrow-circle-o-right',
                                          glyph: 'xf18e@FontAwesome',
                                        },
                                        showCaption: true,
                                        id: 'comment_icon',
                                      },
                                    ],
                                    layout: {
                                      dir: 'row',
                                      layout: 'FLEX',
                                      valign: 'flex-start',
                                    },
                                    dataRegionType: 'INHERIT',
                                    caption: '容器',
                                    itemStyle: 'DEFAULT',
                                    itemType: 'CONTAINER',
                                    layoutPos: {
                                      shrink: 1,
                                      heightMode: 'FULL',
                                      layout: 'FLEX',
                                      widthMode: 'FULL',
                                    },
                                    id: 'container_comment',
                                  },
                                  {
                                    actionGroupExtractMode: 'ITEM',
                                    panelItems: [
                                      {
                                        actionType: 'UIACTION',
                                        buttonStyle: 'DEFAULT',
                                        buttonType: 'PANELBUTTON',
                                        uiactionId: 'send_comment@mail_message',
                                        renderMode: 'BUTTON',
                                        tooltip: '发送',
                                        uiactionTarget: 'NONE',
                                        caption: '发送',
                                        dynaClass:
                                          "['ibiz-panel-button--comment__send']",
                                        itemStyle: 'DEFAULT',
                                        itemType: 'BUTTON',
                                        layoutPos: {
                                          shrink: 0,
                                          layout: 'FLEX',
                                        },
                                        panelItemGroupLogics: [
                                          {
                                            logicCat: 'PANELVISIBLE',
                                            relatedItemNames: [
                                              'message_inputbox',
                                            ],
                                            groupOP: 'AND',
                                            panelItemLogics: [
                                              {
                                                condOp: 'ISNOTNULL',
                                                dstModelField:
                                                  'message_inputbox',
                                                logicType: 'SINGLE',
                                                name: 'message_inputbox 值不为空(NotNil)',
                                                id: 'message_inputbox 值不为空(notnil)',
                                              },
                                            ],
                                            logicType: 'GROUP',
                                          },
                                        ],
                                        showCaption: true,
                                        id: 'comment_send',
                                      },
                                      {
                                        actionType: 'UIACTION',
                                        buttonStyle: 'INFO',
                                        buttonType: 'PANELBUTTON',
                                        uiactionId:
                                          'clear_comment@mail_message',
                                        renderMode: 'BUTTON',
                                        tooltip: '取消',
                                        uiactionTarget: 'NONE',
                                        caption: '取消',
                                        dynaClass:
                                          "['ibiz-panel-button--comment__cancel']",
                                        itemStyle: 'INFO',
                                        itemType: 'BUTTON',
                                        layoutPos: {
                                          shrink: 0,
                                          layout: 'FLEX',
                                        },
                                        panelItemGroupLogics: [
                                          {
                                            logicCat: 'PANELVISIBLE',
                                            relatedItemNames: [
                                              'message_inputbox',
                                            ],
                                            groupOP: 'AND',
                                            panelItemLogics: [
                                              {
                                                condOp: 'ISNOTNULL',
                                                dstModelField:
                                                  'message_inputbox',
                                                logicType: 'SINGLE',
                                                name: 'message_inputbox 值不为空(NotNil)',
                                                id: 'message_inputbox 值不为空(notnil)',
                                              },
                                            ],
                                            logicType: 'GROUP',
                                          },
                                        ],
                                        showCaption: true,
                                        id: 'comment_cancel',
                                      },
                                    ],
                                    layout: {
                                      dir: 'row',
                                      layout: 'FLEX',
                                    },
                                    dataRegionType: 'INHERIT',
                                    caption: '容器',
                                    itemStyle: 'DEFAULT',
                                    itemType: 'CONTAINER',
                                    layoutPos: {
                                      shrink: 1,
                                      layout: 'FLEX',
                                      spacingLeft: 'OUTERLARGE',
                                    },
                                    id: 'container',
                                  },
                                  {
                                    editor: {
                                      editorType: 'HIDDEN',
                                      predefinedType: 'FIELD_TEXT_DYNAMIC',
                                      valueType: 'SIMPLE',
                                      editable: true,
                                      id: 'formitem',
                                    },
                                    allowEmpty: true,
                                    hidden: true,
                                    caption: '文本(动态)',
                                    itemType: 'FIELD',
                                    layoutPos: {
                                      shrink: 1,
                                      layout: 'FLEX',
                                    },
                                    id: 'formitem',
                                  },
                                ],
                                layout: {
                                  dir: 'column',
                                  layout: 'FLEX',
                                },
                                dataRegionType: 'INHERIT',
                                caption: '容器',
                                itemStyle: 'DEFAULT',
                                itemType: 'CONTAINER',
                                layoutPos: {
                                  shrink: 1,
                                  heightMode: 'FULL',
                                  layout: 'FLEX',
                                  widthMode: 'FULL',
                                },
                                id: 'message_panel',
                              },
                            ],
                            layout: {
                              dir: 'row',
                              layout: 'FLEX',
                              valign: 'flex-start',
                            },
                            dataRegionType: 'INHERIT',
                            itemStyle: 'DEFAULT',
                            itemType: 'CONTAINER',
                            layoutPos: {
                              colMD: 24,
                              heightMode: 'FULL',
                              layout: 'TABLE_24COL',
                              widthMode: 'FULL',
                            },
                            id: 'page_container',
                          },
                        ],
                        predefinedType: 'PANELPART',
                        layout: {
                          columnCount: 24,
                          layout: 'TABLE_24COL',
                        },
                        dataRegionType: 'INHERIT',
                        caption: '引用布局面板',
                        itemStyle: 'DEFAULT',
                        itemType: 'CONTAINER',
                        layoutPos: {
                          colMD: 24,
                          layout: 'TABLE_24COL',
                        },
                        showCaption: true,
                        id: 'panelpart',
                      },
                    ],
                    layout: {
                      columnCount: 24,
                      layout: 'TABLE_24COL',
                    },
                    dataRegionType: 'INHERIT',
                    caption: '面板容器',
                    itemStyle: 'DEFAULT',
                    itemType: 'CONTAINER',
                    layoutPos: {
                      grow: 12,
                      shrink: 1,
                      layout: 'SIMPLEFLEX',
                      spacingLeft: 'INNERSMALL',
                      spacingRight: 'INNERSMALL',
                    },
                    id: 'container',
                  },
                ],
                predefinedType: 'CONTAINER_GRID',
                layout: {
                  layout: 'SIMPLEFLEX',
                },
                dataRegionType: 'INHERIT',
                caption: '栅格容器',
                itemStyle: 'DEFAULT',
                itemType: 'CONTAINER',
                layoutPos: {
                  layoutPos: 'CENTER',
                  layout: 'BORDER',
                },
                id: 'container_view_bottom',
              },
            ],
            predefinedType: 'CONTAINER_SCROLL_HEADER',
            layout: {
              layout: 'BORDER',
            },
            dataRegionType: 'INHERIT',
            caption: '面板容器',
            contentHeight: 100,
            height: 100,
            itemStyle: 'DEFAULT',
            itemType: 'CONTAINER',
            layoutPos: {
              layoutPos: 'NORTH',
              height: 100,
              heightMode: 'PERCENTAGE',
              layout: 'BORDER',
            },
            showCaption: true,
            id: 'container_scroll_header',
          },
          {
            actionGroupExtractMode: 'ITEM',
            panelItems: [
              {
                actionGroupExtractMode: 'ITEM',
                panelItems: [
                  {
                    editor: {
                      editorType: 'HIDDEN',
                      valueType: 'SIMPLE',
                      editable: true,
                      id: 'activity_state',
                    },
                    viewFieldName: 'activity_state',
                    allowEmpty: true,
                    hidden: true,
                    caption: '文本(动态)',
                    itemType: 'FIELD',
                    layoutPos: {
                      layoutPos: 'CENTER',
                      layout: 'BORDER',
                    },
                    id: 'activity_state',
                  },
                  {
                    actionGroupExtractMode: 'ITEM',
                    panelItems: [
                      {
                        caption: '实体部件',
                        itemStyle: 'DEFAULT',
                        itemType: 'CTRLPOS',
                        layoutPos: {
                          shrink: 1,
                          layout: 'FLEX',
                        },
                        showCaption: true,
                        id: 'activity_list',
                      },
                    ],
                    predefinedType: 'CONTAINER_GROUP',
                    titleBarCloseMode: 1,
                    layout: {
                      layout: 'FLEX',
                    },
                    dataRegionType: 'INHERIT',
                    caption: '活动',
                    itemStyle: 'DEFAULT',
                    itemType: 'CONTAINER',
                    layoutPos: {
                      layoutPos: 'CENTER',
                      layout: 'BORDER',
                      spacingBottom: 'OUTERMEDIUM',
                    },
                    panelItemGroupLogics: [
                      {
                        logicCat: 'PANELVISIBLE',
                        relatedItemNames: ['activity_state'],
                        groupOP: 'AND',
                        panelItemLogics: [
                          {
                            groupOP: 'OR',
                            panelItemLogics: [
                              {
                                condOp: 'EQ',
                                dstModelField: 'activity_state',
                                value: 'overdue',
                                logicType: 'SINGLE',
                                id: 'activity_state 等于(=) overdue',
                              },
                              {
                                condOp: 'EQ',
                                dstModelField: 'activity_state',
                                value: 'today',
                                logicType: 'SINGLE',
                                id: 'activity_state 等于(=) today',
                              },
                              {
                                condOp: 'EQ',
                                dstModelField: 'activity_state',
                                value: 'planned',
                                logicType: 'SINGLE',
                                id: 'activity_state 等于(=) planned',
                              },
                            ],
                            logicType: 'GROUP',
                            name: 'OR',
                            id: 'or',
                          },
                        ],
                        logicType: 'GROUP',
                      },
                    ],
                    showCaption: true,
                    id: 'activity_panel',
                  },
                ],
                predefinedType: 'CONTAINER_SINGLEDATA',
                layout: {
                  layout: 'BORDER',
                },
                dataName: 'srfactiveviewdata',
                dataRegionType: 'SINGLEDATA',
                dataSourceType: 'TOPVIEWSESSIONPARAM',
                caption: '单项数据容器',
                itemStyle: 'DEFAULT',
                itemType: 'CONTAINER',
                layoutPos: {
                  layoutPos: 'CENTER',
                  layout: 'BORDER',
                },
                id: 'activity',
              },
              {
                actionGroupExtractMode: 'ITEM',
                panelItems: [
                  {
                    caption: '实体部件',
                    itemStyle: 'DEFAULT',
                    itemType: 'CTRLPOS',
                    layoutPos: {
                      shrink: 1,
                      layout: 'FLEX',
                    },
                    showCaption: true,
                    id: 'attachment_list',
                  },
                  {
                    actionType: 'UIACTION',
                    buttonStyle: 'DEFAULT',
                    buttonType: 'PANELBUTTON',
                    uiactionId: 'add_attachments@ir_attachment',
                    renderMode: 'BUTTON',
                    tooltip: '上传附件',
                    uiactionTarget: 'NONE',
                    caption: '上传附件',
                    itemStyle: 'DEFAULT',
                    itemType: 'BUTTON',
                    layoutPos: {
                      shrink: 1,
                      layout: 'FLEX',
                    },
                    sysImage: {
                      cssClass: 'fa fa-upload',
                      glyph: 'xf093@FontAwesome',
                    },
                    showCaption: true,
                    id: 'button_calluilogic1',
                  },
                ],
                predefinedType: 'CONTAINER_GROUP',
                layout: {
                  align: 'center',
                  dir: 'column',
                  layout: 'FLEX',
                  valign: 'center',
                },
                dataRegionType: 'INHERIT',
                caption: '文件',
                itemStyle: 'DEFAULT',
                itemType: 'CONTAINER',
                layoutPos: {
                  layoutPos: 'CENTER',
                  layout: 'BORDER',
                },
                showCaption: true,
                id: 'attachment_panel',
              },
              {
                actionGroupExtractMode: 'ITEM',
                panelItems: [
                  {
                    caption: '实体部件',
                    itemStyle: 'DEFAULT',
                    itemType: 'CTRLPOS',
                    layoutPos: {
                      shrink: 1,
                      layout: 'FLEX',
                      spacingBottom: 'INNERSMALL',
                      spacingLeft: 'INNERSMALL',
                      spacingRight: 'INNERSMALL',
                      spacingTop: 'INNERSMALL',
                    },
                    showCaption: true,
                    id: 'message_list',
                  },
                ],
                layout: {
                  layout: 'FLEX',
                },
                dataRegionType: 'INHERIT',
                caption: '容器',
                itemStyle: 'DEFAULT',
                itemType: 'CONTAINER',
                layoutPos: {
                  layoutPos: 'CENTER',
                  layout: 'BORDER',
                },
                id: 'message_list_panel',
              },
            ],
            predefinedType: 'CONTAINER_SCROLL_MAIN',
            layout: {
              layout: 'BORDER',
            },
            dataRegionType: 'INHERIT',
            caption: '面板容器',
            itemStyle: 'DEFAULT',
            itemType: 'CONTAINER',
            layoutPos: {
              layoutPos: 'CENTER',
              heightMode: 'FULL',
              layout: 'BORDER',
            },
            showCaption: true,
            id: 'container_scroll_main',
          },
        ],
        predefinedType: 'CONTAINER_SCROLL',
        layout: {
          layout: 'BORDER',
        },
        dataRegionType: 'INHERIT',
        caption: '滚动条容器',
        itemStyle: 'DEFAULT',
        itemType: 'CONTAINER',
        layoutPos: {
          shrink: 1,
          layout: 'FLEX',
        },
        id: 'container_scroll',
      },
    ],
    layoutPanel: true,
    controls: [
      {
        groupMode: 'NONE',
        groupStyle: 'DEFAULT',
        itemLayoutPanel: {
          layoutMode: 'FLEX',
          layout: {
            layout: 'FLEX',
          },
          rootPanelItems: [
            {
              actionGroupExtractMode: 'ITEM',
              panelItems: [
                {
                  actionGroupExtractMode: 'ITEM',
                  panelItems: [
                    {
                      actionGroupExtractMode: 'ITEM',
                      panelItems: [
                        {
                          editor: {
                            halign: 'LEFT',
                            renderMode: 'TEXT_DYNAMIC',
                            valign: 'MIDDLE',
                            wrapMode: 'NOWRAP',
                            appCodeListId: 'ehrapp.base__res_users',
                            editorParams: {
                              SHOWNAMETEXT: 'false',
                            },
                            editorStyle: 'PERSONNEL_INFO',
                            editorType: 'SPAN',
                            sysPFPluginId: 'personnel_info',
                            predefinedType: 'FIELD_TEXT_DYNAMIC',
                            valueType: 'SIMPLE',
                            editable: true,
                            id: 'user_id',
                          },
                          viewFieldName: 'user_id',
                          allowEmpty: true,
                          convertToCodeItemText: true,
                          caption: '文本(动态)',
                          itemStyle: 'DEFAULT',
                          itemType: 'FIELD',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          id: 'user_id',
                        },
                      ],
                      layout: {
                        align: 'flex-start',
                        dir: 'row',
                        layout: 'FLEX',
                        valign: 'flex-start',
                      },
                      dataRegionType: 'INHERIT',
                      caption: '容器',
                      itemStyle: 'DEFAULT',
                      itemType: 'CONTAINER',
                      layoutPos: {
                        shrink: 1,
                        layout: 'FLEX',
                      },
                      id: 'container9',
                    },
                    {
                      actionGroupExtractMode: 'ITEM',
                      panelItems: [
                        {
                          actionGroupExtractMode: 'ITEM',
                          panelItems: [
                            {
                              actionGroupExtractMode: 'ITEM',
                              panelItems: [
                                {
                                  rawItem: {
                                    caption:
                                      '{{#if (eq deadline_day 0)}}\n  今天\n{{else if (eq deadline_day -1)}}\n  昨天\n{{else if (lt deadline_day -1)}}\n  逾期: {{abs deadline_day}}天\n{{else if (eq deadline_day 1)}}\n  明天\n{{else}}\n  到期时间: {{deadline_day}}天\n{{/if}}',
                                    halign: 'LEFT',
                                    renderMode: 'TEXT',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    contentType: 'RAW',
                                    dynaClass:
                                      '{"danger-rawitem": data.state==="overdue", "warning-rawitem": data.state==="today","success-rawitem": data.state==="planned"}',
                                    predefinedType: 'STATIC_TEXT',
                                    templateMode: true,
                                    id: 'deadline_info',
                                  },
                                  caption: '文本',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'RAWITEM',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                  },
                                  showCaption: true,
                                  id: 'deadline_info',
                                },
                              ],
                              layout: {
                                dir: 'row',
                                layout: 'FLEX',
                              },
                              dataRegionType: 'INHERIT',
                              caption: '容器',
                              itemStyle: 'DEFAULT',
                              itemType: 'CONTAINER',
                              layoutPos: {
                                shrink: 1,
                                layout: 'FLEX',
                              },
                              id: 'container2',
                            },
                            {
                              editor: {
                                halign: 'LEFT',
                                renderMode: 'TEXT_DYNAMIC',
                                valign: 'MIDDLE',
                                wrapMode: 'NOWRAP',
                                editorType: 'SPAN',
                                predefinedType: 'FIELD_TEXT_DYNAMIC',
                                valueType: 'SIMPLE',
                                editable: true,
                                id: 'activity_type_name',
                              },
                              viewFieldName: 'ACTIVITY_TYPE_NAME',
                              allowEmpty: true,
                              caption: '文本(动态)',
                              itemStyle: 'DEFAULT',
                              itemType: 'FIELD',
                              layoutPos: {
                                shrink: 1,
                                layout: 'FLEX',
                                spacingLeft: 'OUTERSMALL',
                              },
                              id: 'activity_type_name',
                            },
                            {
                              rawItem: {
                                caption: '分派给：',
                                halign: 'LEFT',
                                renderMode: 'TEXT',
                                valign: 'MIDDLE',
                                wrapMode: 'NOWRAP',
                                contentType: 'RAW',
                                predefinedType: 'STATIC_TEXT',
                                id: 'static_text',
                              },
                              caption: '文本',
                              itemStyle: 'DEFAULT',
                              itemType: 'RAWITEM',
                              layoutPos: {
                                shrink: 1,
                                layout: 'FLEX',
                                spacingLeft: 'OUTERSMALL',
                              },
                              showCaption: true,
                              id: 'static_text',
                            },
                            {
                              editor: {
                                halign: 'LEFT',
                                renderMode: 'TEXT_DYNAMIC',
                                valign: 'MIDDLE',
                                wrapMode: 'NOWRAP',
                                editorType: 'SPAN',
                                predefinedType: 'FIELD_TEXT_DYNAMIC',
                                valueType: 'SIMPLE',
                                editable: true,
                                id: 'user_name',
                              },
                              viewFieldName: 'USER_NAME',
                              allowEmpty: true,
                              caption: '文本(动态)',
                              itemStyle: 'DEFAULT',
                              itemType: 'FIELD',
                              layoutPos: {
                                shrink: 1,
                                layout: 'FLEX',
                              },
                              id: 'user_name',
                            },
                            {
                              rawItem: {
                                sysImage: {
                                  cssClass: 'fa fa-info-circle',
                                  glyph: 'xf05a@FontAwesome',
                                },
                                contentType: 'IMAGE',
                                predefinedType: 'STATIC_IMAGE',
                                id: 'info',
                              },
                              caption: '展开信息',
                              itemStyle: 'DEFAULT',
                              itemType: 'RAWITEM',
                              layoutPos: {
                                shrink: 0,
                                layout: 'FLEX',
                                spacingLeft: 'OUTERSMALL',
                              },
                              sysImage: {
                                cssClass: 'fa fa-info-circle',
                                glyph: 'xf05a@FontAwesome',
                              },
                              showCaption: true,
                              id: 'info',
                            },
                          ],
                          layout: {
                            align: 'flex-start',
                            dir: 'row',
                            layout: 'FLEX',
                            valign: 'center',
                          },
                          dataRegionType: 'INHERIT',
                          caption: '容器',
                          itemStyle: 'DEFAULT',
                          itemType: 'CONTAINER',
                          layoutPos: {
                            shrink: 0,
                            layout: 'FLEX',
                          },
                          id: 'container1',
                        },
                        {
                          actionGroupExtractMode: 'ITEM',
                          panelItems: [
                            {
                              actionGroupExtractMode: 'ITEM',
                              panelItems: [
                                {
                                  rawItem: {
                                    caption: '活动类型',
                                    halign: 'LEFT',
                                    renderMode: 'PARAGRAPH',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    contentType: 'RAW',
                                    predefinedType: 'STATIC_LABEL',
                                    id: 'static_label',
                                  },
                                  caption: '标签',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'RAWITEM',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                  },
                                  showCaption: true,
                                  id: 'static_label',
                                },
                                {
                                  editor: {
                                    halign: 'LEFT',
                                    renderMode: 'TEXT_DYNAMIC',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    editorType: 'SPAN',
                                    predefinedType: 'FIELD_TEXT_DYNAMIC',
                                    valueType: 'SIMPLE',
                                    editable: true,
                                    id: 'activity_type_name2',
                                  },
                                  viewFieldName: 'ACTIVITY_TYPE_NAME',
                                  allowEmpty: true,
                                  caption: '文本(动态)',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'FIELD',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                    spacingLeft: 'OUTERSMALL',
                                  },
                                  id: 'activity_type_name2',
                                },
                              ],
                              layout: {
                                dir: 'row',
                                layout: 'FLEX',
                              },
                              dataRegionType: 'INHERIT',
                              caption: '容器',
                              itemStyle: 'DEFAULT',
                              itemType: 'CONTAINER',
                              layoutPos: {
                                shrink: 1,
                                layout: 'FLEX',
                              },
                              id: 'container4',
                            },
                            {
                              actionGroupExtractMode: 'ITEM',
                              panelItems: [
                                {
                                  rawItem: {
                                    caption: '创建于',
                                    halign: 'LEFT',
                                    renderMode: 'TEXT',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    contentType: 'RAW',
                                    predefinedType: 'STATIC_TEXT',
                                    id: 'static_text3',
                                  },
                                  caption: '文本',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'RAWITEM',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                  },
                                  showCaption: true,
                                  id: 'static_text3',
                                },
                                {
                                  editor: {
                                    halign: 'LEFT',
                                    renderMode: 'TEXT_DYNAMIC',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    editorType: 'SPAN',
                                    predefinedType: 'FIELD_TEXT_DYNAMIC',
                                    valueType: 'SIMPLE',
                                    editable: true,
                                    id: 'create_date',
                                  },
                                  viewFieldName: 'CREATE_DATE',
                                  allowEmpty: true,
                                  caption: '文本(动态)',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'FIELD',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                    spacingLeft: 'OUTERSMALL',
                                  },
                                  id: 'create_date',
                                },
                                {
                                  rawItem: {
                                    caption: '由',
                                    halign: 'LEFT',
                                    renderMode: 'TEXT',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    contentType: 'RAW',
                                    predefinedType: 'STATIC_TEXT',
                                    templateMode: true,
                                    id: 'static_text4',
                                  },
                                  caption: '文本',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'RAWITEM',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                  },
                                  showCaption: true,
                                  id: 'static_text4',
                                },
                                {
                                  editor: {
                                    halign: 'LEFT',
                                    renderMode: 'TEXT_DYNAMIC',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    appCodeListId: 'ehrapp.sysoperator',
                                    editorType: 'SPAN',
                                    predefinedType: 'FIELD_TEXT_DYNAMIC',
                                    valueType: 'SIMPLE',
                                    editable: true,
                                    id: 'create_uid',
                                  },
                                  viewFieldName: 'CREATE_UID',
                                  allowEmpty: true,
                                  convertToCodeItemText: true,
                                  caption: '文本(动态)',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'FIELD',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                  },
                                  id: 'create_uid',
                                },
                              ],
                              layout: {
                                dir: 'row',
                                layout: 'FLEX',
                              },
                              dataRegionType: 'INHERIT',
                              caption: '容器',
                              itemStyle: 'DEFAULT',
                              itemType: 'CONTAINER',
                              layoutPos: {
                                shrink: 1,
                                layout: 'FLEX',
                              },
                              id: 'container5',
                            },
                            {
                              actionGroupExtractMode: 'ITEM',
                              panelItems: [
                                {
                                  rawItem: {
                                    caption: '分派给',
                                    halign: 'LEFT',
                                    renderMode: 'TEXT',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    contentType: 'RAW',
                                    predefinedType: 'STATIC_TEXT',
                                    id: 'static_text5',
                                  },
                                  caption: '文本',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'RAWITEM',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                  },
                                  showCaption: true,
                                  id: 'static_text5',
                                },
                                {
                                  editor: {
                                    halign: 'LEFT',
                                    renderMode: 'TEXT_DYNAMIC',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    editorType: 'SPAN',
                                    predefinedType: 'FIELD_TEXT_DYNAMIC',
                                    valueType: 'SIMPLE',
                                    editable: true,
                                    id: 'user_name2',
                                  },
                                  viewFieldName: 'USER_NAME',
                                  allowEmpty: true,
                                  caption: '文本(动态)',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'FIELD',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                    spacingLeft: 'OUTERSMALL',
                                  },
                                  id: 'user_name2',
                                },
                              ],
                              layout: {
                                dir: 'row',
                                layout: 'FLEX',
                              },
                              dataRegionType: 'INHERIT',
                              caption: '容器',
                              itemStyle: 'DEFAULT',
                              itemType: 'CONTAINER',
                              layoutPos: {
                                shrink: 1,
                                layout: 'FLEX',
                              },
                              id: 'container6',
                            },
                            {
                              actionGroupExtractMode: 'ITEM',
                              panelItems: [
                                {
                                  rawItem: {
                                    caption: '截至到',
                                    halign: 'LEFT',
                                    renderMode: 'TEXT',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    contentType: 'RAW',
                                    predefinedType: 'STATIC_TEXT',
                                    id: 'static_text6',
                                  },
                                  caption: '文本',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'RAWITEM',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                  },
                                  showCaption: true,
                                  id: 'static_text6',
                                },
                                {
                                  editor: {
                                    halign: 'LEFT',
                                    renderMode: 'TEXT_DYNAMIC',
                                    valign: 'MIDDLE',
                                    wrapMode: 'NOWRAP',
                                    editorType: 'SPAN',
                                    predefinedType: 'FIELD_TEXT_DYNAMIC',
                                    valueType: 'SIMPLE',
                                    editable: true,
                                    id: 'date_deadline',
                                  },
                                  viewFieldName: 'date_deadline',
                                  allowEmpty: true,
                                  caption: '文本(动态)',
                                  itemStyle: 'DEFAULT',
                                  itemType: 'FIELD',
                                  layoutPos: {
                                    shrink: 1,
                                    layout: 'FLEX',
                                    spacingLeft: 'OUTERSMALL',
                                  },
                                  id: 'date_deadline',
                                },
                              ],
                              layout: {
                                dir: 'row',
                                layout: 'FLEX',
                              },
                              dataRegionType: 'INHERIT',
                              caption: '容器',
                              itemStyle: 'DEFAULT',
                              itemType: 'CONTAINER',
                              layoutPos: {
                                shrink: 1,
                                layout: 'FLEX',
                              },
                              id: 'container7',
                            },
                          ],
                          layout: {
                            dir: 'column',
                            layout: 'FLEX',
                            valign: 'flex-start',
                          },
                          dataRegionType: 'INHERIT',
                          caption: '容器',
                          itemStyle: 'DEFAULT',
                          itemType: 'CONTAINER',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                            spacingTop: 'OUTERSMALL',
                          },
                          id: 'info_detail',
                        },
                        {
                          actionGroupExtractMode: 'ITEM',
                          buttonListType: 'UIACTIONGROUP',
                          uiactionGroup: {
                            uiactionGroupDetails: [
                              {
                                actionLevel: 100,
                                afterItemType: 'NONE',
                                beforeItemType: 'NONE',
                                buttonStyle: 'DEFAULT',
                                caption: '完成活动',
                                detailType: 'DEUIACTION',
                                uiactionId:
                                  'open_action_done_view@mail_activity',
                                tooltip: '标记为完成',
                                showCaption: true,
                                showIcon: true,
                                sysImage: {
                                  cssClass: 'fa fa-check',
                                  glyph: 'xf00c@FontAwesome',
                                },
                                id: 'u9d70c46',
                              },
                              {
                                actionLevel: 100,
                                afterItemType: 'NONE',
                                beforeItemType: 'NONE',
                                buttonStyle: 'DEFAULT',
                                caption: '编辑',
                                detailType: 'DEUIACTION',
                                uiactionId: 'edit_activity@mail_activity',
                                tooltip: '编辑',
                                showCaption: true,
                                showIcon: true,
                                sysImage: {
                                  cssClass: 'fa fa-pencil',
                                  glyph: 'xf040@FontAwesome',
                                },
                                id: 'uad663a4',
                              },
                              {
                                actionLevel: 100,
                                afterItemType: 'NONE',
                                beforeItemType: 'NONE',
                                buttonStyle: 'DEFAULT',
                                caption: '取消',
                                detailType: 'DEUIACTION',
                                uiactionId: 'del_activity@mail_activity',
                                tooltip: '取消',
                                showCaption: true,
                                showIcon: true,
                                sysImage: {
                                  cssClass: 'fa fa-remove',
                                  glyph: 'xf00d@FontAwesome',
                                },
                                id: 'u77072fb',
                              },
                            ],
                            appDataEntityId: 'ehrapp.mail_activity',
                            uniqueTag: 'mail_activity__activity_list',
                            name: '列表界面行为组',
                            id: 'activity_list',
                          },
                          caption: '按钮组',
                          itemStyle: 'STYLE2',
                          itemType: 'BUTTONLIST',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          id: 'buttonlist',
                        },
                      ],
                      layout: {
                        dir: 'column',
                        layout: 'FLEX',
                      },
                      dataRegionType: 'INHERIT',
                      caption: '容器',
                      itemStyle: 'DEFAULT',
                      itemType: 'CONTAINER',
                      layoutPos: {
                        shrink: 1,
                        layout: 'FLEX',
                        spacingLeft: 'OUTERSMALL',
                      },
                      id: 'container10',
                    },
                  ],
                  layout: {
                    dir: 'row',
                    layout: 'FLEX',
                  },
                  dataRegionType: 'INHERIT',
                  caption: '容器',
                  itemStyle: 'DEFAULT',
                  itemType: 'CONTAINER',
                  layoutPos: {
                    shrink: 1,
                    layout: 'FLEX',
                  },
                  id: 'container8',
                },
                {
                  editor: {
                    editorType: 'HIDDEN',
                    predefinedType: 'FIELD_TEXT_DYNAMIC',
                    valueType: 'SIMPLE',
                    editable: true,
                    id: 'state',
                  },
                  viewFieldName: 'state',
                  allowEmpty: true,
                  hidden: true,
                  caption: '文本(动态)',
                  itemType: 'FIELD',
                  layoutPos: {
                    shrink: 1,
                    layout: 'FLEX',
                  },
                  id: 'state',
                },
                {
                  editor: {
                    editorType: 'HIDDEN',
                    predefinedType: 'FIELD_TEXT_DYNAMIC',
                    valueType: 'SIMPLE',
                    editable: true,
                    id: 'deadline_day',
                  },
                  viewFieldName: 'deadline_day',
                  allowEmpty: true,
                  hidden: true,
                  caption: '文本(动态)',
                  itemType: 'FIELD',
                  layoutPos: {
                    shrink: 1,
                    layout: 'FLEX',
                  },
                  id: 'deadline_day',
                },
              ],
              layout: {
                dir: 'column',
                layout: 'FLEX',
              },
              dataRegionType: 'INHERIT',
              caption: '容器',
              itemStyle: 'DEFAULT',
              itemType: 'CONTAINER',
              layoutPos: {
                shrink: 1,
                layout: 'FLEX',
              },
              id: 'container',
            },
          ],
          layoutPanel: true,
          codeName: 'Auto35900834',
          controlType: 'PANEL',
          logicName: 'activity_list列表',
          appDataEntityId: 'ehrapp.mail_activity',
          controlLogics: [
            {
              eventNames: 'onMounted',
              logicTag: 'activity_list_itempanel',
              logicType: 'SCRIPT',
              scriptCode:
                '// 获取目标面板项\nconst panelItem = ctrl.findPanelItemByName("info_detail");\nif (panelItem) {\n  // 切换可见状态\n  panelItem.state.visible = false;\n}',
              triggerType: 'CTRLEVENT',
              id: 'hidden_detail',
            },
            {
              eventNames: 'onClick',
              itemName: 'info',
              logicTag: 'activity_list_itempanel',
              logicType: 'SCRIPT',
              scriptCode:
                '// 获取目标面板项\nconst panelItem = ctrl.findPanelItemByName("info_detail");\nif (panelItem) {\n  // 切换可见状态\n  panelItem.state.visible = !panelItem.state.visible;\n}',
              triggerType: 'CTRLEVENT',
              id: 'logic',
            },
          ],
          controlParam: {},
          modelId: '772d567b569bc19d1d2cf27e1cd12787',
          modelType: 'PSSYSVIEWPANEL',
          name: 'activity_list_itempanel',
          id: 'ehrapp.mail_activity.auto35900834',
        },
        minorSortDir: 'DESC',
        minorSortAppDEFieldId: 'create_date',
        delistDataItems: [
          {
            dataType: 5,
            format: 'YYYY-MM-DD',
            id: 'date_deadline',
          },
          {
            dataType: 5,
            format: 'YYYY-MM-DD HH:mm:ss',
            id: 'create_date',
          },
          {
            appDEFieldId: 'activity_type_id',
            dataType: 25,
            id: 'activity_type_id',
          },
          {
            appDEFieldId: 'activity_type_name',
            dataType: 25,
            id: 'activity_type_name',
          },
          {
            appDEFieldId: 'user_name',
            dataType: 25,
            id: 'user_name',
          },
          {
            dataType: 25,
            id: 'create_uid',
          },
          {
            appDEFieldId: 'user_id',
            dataType: 25,
            id: 'user_id',
          },
          {
            appDEFieldId: 'deadline_day',
            dataType: 9,
            id: 'deadline_day',
          },
          {
            appDEFieldId: 'state',
            frontCodeListId: 'ehrapp.mail__mail_activity_state',
            dataType: 25,
            id: 'state',
          },
          {
            appDEFieldId: 'id',
            dataType: 25,
            id: 'srfkey',
          },
          {
            appDEFieldId: 'recommended_activity_type_id',
            dataType: 25,
            id: 'recommended_activity_type_id',
          },
          {
            appDEFieldId: 'request_partner_id',
            dataType: 25,
            id: 'request_partner_id',
          },
          {
            appDEFieldId: 'previous_activity_type_id',
            dataType: 25,
            id: 'previous_activity_type_id',
          },
        ],
        pagingSize: 1000,
        showHeader: true,
        singleSelect: true,
        navViewPos: 'NONE',
        createControlAction: {
          appDEMethodId: 'create',
          appDataEntityId: 'ehrapp.mail_activity',
          id: 'create',
        },
        fetchControlAction: {
          appDEMethodId: 'fetch_un_finished',
          appDataEntityId: 'ehrapp.mail_activity',
          id: 'fetch',
        },
        getControlAction: {
          appDEMethodId: 'get',
          appDataEntityId: 'ehrapp.mail_activity',
          id: 'load',
        },
        controlNavContexts: [
          {
            key: 'MAIL_ACTIVITY_MIXIN',
            value: 'mail_activity_mixin',
            name: 'MAIL_ACTIVITY_MIXIN',
            id: 'mail_activity_mixin',
          },
        ],
        removeControlAction: {
          appDEMethodId: 'remove',
          appDataEntityId: 'ehrapp.mail_activity',
          id: 'remove',
        },
        updateControlAction: {
          appDEMethodId: 'update',
          appDataEntityId: 'ehrapp.mail_activity',
          id: 'update',
        },
        autoLoad: true,
        showBusyIndicator: true,
        codeName: 'activity_list',
        controlType: 'LIST',
        logicName: 'activity_list',
        appDataEntityId: 'ehrapp.mail_activity',
        controlParam: {
          ctrlParams: {
            'SRFNAVCTX.MAIL_ACTIVITY_MIXIN': '%mail_activity_mixin%',
          },
        },
        modelId: 'e7a878630ea6dfe69124927013715935',
        modelType: 'PSDELIST',
        name: 'activity_list',
        id: 'ehrapp.mail_activity.activity_list',
      },
      {
        cardHeight: 70,
        groupMode: 'NONE',
        groupStyle: 'DEFAULT',
        itemLayoutPanel: {
          layoutMode: 'TABLE_24COL',
          layout: {
            columnCount: 24,
            layout: 'TABLE_24COL',
          },
          rootPanelItems: [
            {
              actionGroupExtractMode: 'ITEM',
              panelItems: [
                {
                  actionGroupExtractMode: 'ITEM',
                  panelItems: [
                    {
                      actionGroupExtractMode: 'ITEM',
                      panelItems: [
                        {
                          rawItem: {
                            sysImage: {
                              rawContent:
                                '<svg xmlns="http://www.w3.org/2000/svg" class="icon design-iconfont" viewBox="0 0 1024 1024" width="24" height="24">\n  <path d="M300.053794 0h423.892412c200.032053 0 300.053794 100.021741 300.053794 300.053794v423.892412c0 200.032053-100.021741 300.053794-300.053794 300.053794H300.053794C100.021741 1023.988572 0 923.966831 0 723.934778v-423.880984C0 100.021741 100.021741 0 300.053794 0z" fill="#598BFC" opacity=".15"></path>\n  <path d="M709.900648 336.864812h-191.883572c-7.017065 0-13.542706-3.645674-17.211237-9.62275l-43.725226-41.828105a34.641899 34.641899 0 0 0-29.508242-16.479816h-110.695908c-43.725226 0-79.164831 35.416748-79.16483 79.09626v310.876531c0 42.136673 34.182476 76.296291 76.364862 76.30772h395.835582c42.170958 0 76.364862-34.171047 76.364862-76.30772V413.172532c0-42.136673-34.193904-76.30772-76.376291-76.30772z" fill="#598BFC"></path>\n  <path d="M335.436256 437.800828h353.116059c13.336994 0 20.011205 6.857066 20.011205 20.571199s-6.674211 20.571199-20.011205 20.571199H335.436256c-13.336994 0-20.011205-6.857066-20.011205-20.571199s6.674211-20.571199 20.011205-20.571199z" fill="#FFF"></path>\n</svg>',
                            },
                            contentType: 'IMAGE',
                            predefinedType: 'STATIC_IMAGE',
                            id: 'static_image',
                          },
                          caption: '图片',
                          itemStyle: 'DEFAULT',
                          itemType: 'RAWITEM',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          sysImage: {
                            rawContent:
                              '<svg xmlns="http://www.w3.org/2000/svg" class="icon design-iconfont" viewBox="0 0 1024 1024" width="24" height="24">\n  <path d="M300.053794 0h423.892412c200.032053 0 300.053794 100.021741 300.053794 300.053794v423.892412c0 200.032053-100.021741 300.053794-300.053794 300.053794H300.053794C100.021741 1023.988572 0 923.966831 0 723.934778v-423.880984C0 100.021741 100.021741 0 300.053794 0z" fill="#598BFC" opacity=".15"></path>\n  <path d="M709.900648 336.864812h-191.883572c-7.017065 0-13.542706-3.645674-17.211237-9.62275l-43.725226-41.828105a34.641899 34.641899 0 0 0-29.508242-16.479816h-110.695908c-43.725226 0-79.164831 35.416748-79.16483 79.09626v310.876531c0 42.136673 34.182476 76.296291 76.364862 76.30772h395.835582c42.170958 0 76.364862-34.171047 76.364862-76.30772V413.172532c0-42.136673-34.193904-76.30772-76.376291-76.30772z" fill="#598BFC"></path>\n  <path d="M335.436256 437.800828h353.116059c13.336994 0 20.011205 6.857066 20.011205 20.571199s-6.674211 20.571199-20.011205 20.571199H335.436256c-13.336994 0-20.011205-6.857066-20.011205-20.571199s6.674211-20.571199 20.011205-20.571199z" fill="#FFF"></path>\n</svg>',
                          },
                          showCaption: true,
                          id: 'static_image',
                        },
                        {
                          editor: {
                            halign: 'LEFT',
                            renderMode: 'TEXT_DYNAMIC',
                            valign: 'MIDDLE',
                            wrapMode: 'WRAP',
                            editorType: 'SPAN',
                            predefinedType: 'FIELD_TEXT_DYNAMIC',
                            valueType: 'SIMPLE',
                            editable: true,
                            id: 'name',
                          },
                          viewFieldName: 'name',
                          allowEmpty: true,
                          caption: '文本(动态)',
                          itemStyle: 'DEFAULT',
                          itemType: 'FIELD',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                            spacingLeft: 'OUTERSMALL',
                          },
                          id: 'name',
                        },
                      ],
                      layout: {
                        align: 'flex-start',
                        dir: 'row',
                        layout: 'FLEX',
                        valign: 'center',
                      },
                      dataRegionType: 'INHERIT',
                      caption: '容器',
                      itemStyle: 'DEFAULT',
                      itemType: 'CONTAINER',
                      layoutPos: {
                        grow: 1,
                        shrink: 1,
                        layout: 'FLEX',
                      },
                      id: 'container1',
                    },
                    {
                      actionGroupExtractMode: 'ITEM',
                      panelItems: [
                        {
                          rawItem: {
                            sysImage: {
                              cssClass: 'fa fa-remove',
                              glyph: 'xf00d@FontAwesome',
                            },
                            contentType: 'IMAGE',
                            predefinedType: 'STATIC_IMAGE',
                            id: 'remove_attchment',
                          },
                          caption: '删除',
                          itemStyle: 'DEFAULT',
                          itemType: 'RAWITEM',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          sysImage: {
                            cssClass: 'fa fa-remove',
                            glyph: 'xf00d@FontAwesome',
                          },
                          showCaption: true,
                          id: 'remove_attchment',
                        },
                        {
                          rawItem: {
                            sysImage: {
                              cssClass: 'fa fa-download',
                              glyph: 'xf019@FontAwesome',
                            },
                            contentType: 'IMAGE',
                            predefinedType: 'STATIC_IMAGE',
                            id: 'dowload_attchment',
                          },
                          caption: '图片',
                          itemStyle: 'DEFAULT',
                          itemType: 'RAWITEM',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          sysImage: {
                            cssClass: 'fa fa-download',
                            glyph: 'xf019@FontAwesome',
                          },
                          showCaption: true,
                          id: 'dowload_attchment',
                        },
                      ],
                      layout: {
                        align: 'space-between',
                        dir: 'column',
                        layout: 'FLEX',
                        valign: 'center',
                      },
                      dataRegionType: 'INHERIT',
                      caption: '容器',
                      itemStyle: 'DEFAULT',
                      itemType: 'CONTAINER',
                      layoutPos: {
                        shrink: 1,
                        layout: 'FLEX',
                        spacingLeft: 'OUTERSMALL',
                      },
                      id: 'container2',
                    },
                  ],
                  layout: {
                    align: 'space-between',
                    dir: 'row',
                    layout: 'FLEX',
                    valign: 'center',
                  },
                  dataRegionType: 'INHERIT',
                  caption: '容器',
                  itemStyle: 'DEFAULT',
                  itemType: 'CONTAINER',
                  layoutPos: {
                    shrink: 1,
                    layout: 'FLEX',
                  },
                  id: 'container',
                },
              ],
              layout: {
                dir: 'column',
                layout: 'FLEX',
              },
              dataRegionType: 'INHERIT',
              itemStyle: 'DEFAULT',
              itemType: 'CONTAINER',
              layoutPos: {
                colMD: 24,
                layout: 'TABLE_24COL',
              },
              id: 'page_container',
            },
            {
              editor: {
                editorType: 'HIDDEN',
                valueType: 'SIMPLE',
                editable: true,
                id: 'id',
              },
              viewFieldName: 'ID',
              allowEmpty: true,
              hidden: true,
              caption: '文本框',
              itemType: 'FIELD',
              layoutPos: {
                colMD: 24,
                layout: 'TABLE_24COL',
              },
              id: 'id',
            },
          ],
          codeName: 'Usr1022229433',
          controlType: 'PANEL',
          logicName: '附件卡片项面板',
          appDataEntityId: 'ehrapp.ir_attachment',
          controlLogics: [
            {
              eventNames: 'onClick',
              itemName: 'remove_attchment',
              logicTag: 'itemlayoutpanel',
              logicType: 'APPDEUILOGIC',
              appDEUILogicId: 'delete_attachment',
              appDataEntityId: 'ehrapp.ir_attachment',
              triggerType: 'CTRLEVENT',
              id: 'delete_attach',
            },
            {
              eventNames: 'onClick',
              itemName: 'dowload_attchment',
              logicTag: 'itemlayoutpanel',
              logicType: 'APPDEUIACTION',
              appDEUIActionId: 'download@ir_attachment',
              triggerType: 'CTRLEVENT',
              id: 'download_attach',
            },
          ],
          controlParam: {},
          modelId: '4c00a481d88b57108ef8750d6b960ada',
          modelType: 'PSSYSVIEWPANEL',
          name: 'itemlayoutpanel',
          id: 'ehrapp.ir_attachment.usr1022229433',
        },
        dedataViewDataItems: [
          {
            appDEFieldId: 'name',
            dataType: 25,
            id: 'name',
          },
          {
            appDEFieldId: 'id',
            dataType: 25,
            id: 'id',
          },
          {
            appDEFieldId: 'id',
            dataType: 25,
            id: 'srfkey',
          },
          {
            appDEFieldId: 'name',
            dataType: 25,
            id: 'srfmajortext',
          },
        ],
        dedataViewItems: [
          {
            capLanguageRes: {
              lanResTag: 'DEF.LNAME.IR_ATTACHMENT.NAME',
            },
            caption: '名称',
            dataItemName: 'name',
            itemType: 'DATAITEM',
            appDEFieldId: 'name',
            name: 'NAME',
            id: 'name',
          },
          {
            capLanguageRes: {
              lanResTag: 'DEF.LNAME.IR_ATTACHMENT.ID',
            },
            caption: '标识',
            dataItemName: 'id',
            itemType: 'DATAITEM',
            appDEFieldId: 'id',
            name: 'ID',
            id: 'id',
          },
        ],
        pagingSize: 1000,
        noSort: true,
        singleSelect: true,
        navViewPos: 'NONE',
        createControlAction: {
          appDEMethodId: 'create',
          appDataEntityId: 'ehrapp.ir_attachment',
          id: 'create',
        },
        fetchControlAction: {
          appDEMethodId: 'fetch_common_by_model',
          appDataEntityId: 'ehrapp.ir_attachment',
          id: 'fetch',
        },
        getControlAction: {
          appDEMethodId: 'get',
          appDataEntityId: 'ehrapp.ir_attachment',
          id: 'load',
        },
        controlNavContexts: [
          {
            key: 'MAIL_THREAD',
            value: 'mail_thread',
            name: 'MAIL_THREAD',
            id: 'mail_thread',
          },
        ],
        removeControlAction: {
          appDEMethodId: 'remove',
          appDataEntityId: 'ehrapp.ir_attachment',
          id: 'remove',
        },
        updateControlAction: {
          appDEMethodId: 'update',
          appDataEntityId: 'ehrapp.ir_attachment',
          id: 'update',
        },
        autoLoad: true,
        showBusyIndicator: true,
        codeName: 'card',
        controlType: 'DATAVIEW',
        logicName: '附件卡片',
        appDataEntityId: 'ehrapp.ir_attachment',
        controlParam: {
          ctrlParams: {
            'SRFNAVCTX.MAIL_THREAD': '%mail_thread%',
          },
        },
        modelId: '8a08023c6fe403701aae5b46147519b0',
        modelType: 'PSDEDATAVIEW',
        name: 'attachment_list',
        id: 'ehrapp.ir_attachment.card',
      },
      {
        groupMode: 'AUTO',
        groupAppDEFieldId: 'create_date',
        groupStyle: 'STYLE2',
        itemLayoutPanel: {
          layoutMode: 'TABLE_24COL',
          layout: {
            columnCount: 24,
            layout: 'TABLE_24COL',
          },
          rootPanelItems: [
            {
              actionGroupExtractMode: 'ITEM',
              panelItems: [
                {
                  actionGroupExtractMode: 'ITEM',
                  panelItems: [
                    {
                      actionGroupExtractMode: 'ITEM',
                      panelItems: [
                        {
                          editor: {
                            halign: 'LEFT',
                            renderMode: 'TEXT_DYNAMIC',
                            valign: 'MIDDLE',
                            wrapMode: 'NOWRAP',
                            appCodeListId: 'ehrapp.sysoperator',
                            editorStyle: 'PERSONNEL_INFO',
                            editorType: 'SPAN',
                            sysPFPluginId: 'personnel_info',
                            predefinedType: 'FIELD_TEXT_DYNAMIC',
                            valueType: 'SIMPLE',
                            editable: true,
                            id: 'user_name',
                          },
                          viewFieldName: 'CREATE_UID',
                          allowEmpty: true,
                          convertToCodeItemText: true,
                          caption: '文本(动态)',
                          itemStyle: 'DEFAULT',
                          itemType: 'FIELD',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          id: 'user_name',
                        },
                        {
                          editor: {
                            halign: 'LEFT',
                            renderMode: 'TEXT_DYNAMIC',
                            valign: 'MIDDLE',
                            wrapMode: 'NOWRAP',
                            editorType: 'SPAN',
                            predefinedType: 'FIELD_TEXT_DYNAMIC',
                            valueType: 'SIMPLE',
                            editable: true,
                            id: 'time',
                          },
                          viewFieldName: 'CREATE_DATE',
                          allowEmpty: true,
                          caption: '文本(动态)',
                          cssStyle:
                            'line-height: var(--ibiz-height-control-default);',
                          itemStyle: 'DEFAULT',
                          itemType: 'FIELD',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                            spacingLeft: 'OUTERMEDIUM',
                          },
                          sysCss: {
                            cssName: 'transition-time',
                          },
                          id: 'time',
                        },
                        {
                          editor: {
                            editorType: 'HIDDEN',
                            predefinedType: 'FIELD_TEXT_DYNAMIC',
                            valueType: 'SIMPLE',
                            editable: true,
                            id: 'field_text_dynamic3',
                          },
                          viewFieldName: 'ID',
                          allowEmpty: true,
                          hidden: true,
                          caption: '文本(动态)',
                          itemType: 'FIELD',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          id: 'field_text_dynamic3',
                        },
                        {
                          editor: {
                            editorType: 'HIDDEN',
                            predefinedType: 'FIELD_TEXT_DYNAMIC',
                            valueType: 'SIMPLE',
                            editable: true,
                            id: 'pid',
                          },
                          viewFieldName: 'PID',
                          allowEmpty: true,
                          hidden: true,
                          caption: '文本(动态)',
                          itemType: 'FIELD',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          id: 'pid',
                        },
                        {
                          editor: {
                            editorType: 'HIDDEN',
                            predefinedType: 'FIELD_TEXT_DYNAMIC',
                            valueType: 'SIMPLE',
                            editable: true,
                            id: 'id',
                          },
                          viewFieldName: 'ID',
                          allowEmpty: true,
                          hidden: true,
                          caption: '文本(动态)',
                          itemType: 'FIELD',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          id: 'id',
                        },
                      ],
                      layout: {
                        align: 'flex-start',
                        dir: 'row',
                        layout: 'FLEX',
                        valign: 'center',
                      },
                      dataRegionType: 'INHERIT',
                      caption: '容器',
                      itemStyle: 'DEFAULT',
                      itemType: 'CONTAINER',
                      layoutPos: {
                        shrink: 1,
                        layout: 'FLEX',
                      },
                      id: 'container1',
                    },
                    {
                      actionGroupExtractMode: 'ITEM',
                      panelItems: [
                        {
                          actionType: 'UIACTION',
                          buttonStyle: 'STYLE2',
                          buttonType: 'PANELBUTTON',
                          uiactionId: 'del_comment@mail_message',
                          renderMode: 'BUTTON',
                          tooltip: '删除',
                          uiactionTarget: 'SINGLEKEY',
                          caption: '删除',
                          itemStyle: 'STYLE2',
                          itemType: 'BUTTON',
                          controlLogics: [
                            {
                              itemName: 'BUTTON_CALLUILOGIC',
                              logicTag: 'message_list_itempanel',
                              logicType: 'SCRIPT',
                              scriptCode:
                                'data.create_uid === context.srfuserid',
                              triggerType: 'ITEMVISIBLE',
                              id: 'trash',
                            },
                          ],
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          sysImage: {
                            cssClass: 'fa fa-trash',
                            glyph: 'xf1f8@FontAwesome',
                          },
                          id: 'button_calluilogic',
                        },
                        {
                          actionType: 'UIACTION',
                          buttonStyle: 'STYLE2',
                          buttonType: 'PANELBUTTON',
                          uiactionId:
                            'panel_message_layout_button_calluilogic1_click@mail_message',
                          renderMode: 'BUTTON',
                          tooltip: '编辑',
                          uiactionTarget: 'SINGLEDATA',
                          caption: '编辑',
                          itemStyle: 'STYLE2',
                          itemType: 'BUTTON',
                          controlLogics: [
                            {
                              itemName: 'BUTTON_CALLUILOGIC1',
                              logicTag: 'message_list_itempanel',
                              logicType: 'SCRIPT',
                              scriptCode:
                                'data.create_uid === context.srfuserid',
                              triggerType: 'ITEMVISIBLE',
                              id: 'logic',
                            },
                          ],
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          sysImage: {
                            cssClass: 'fa fa-edit',
                            glyph: 'xf044@FontAwesome',
                          },
                          id: 'button_calluilogic1',
                        },
                        {
                          actionType: 'UIACTION',
                          buttonStyle: 'STYLE2',
                          buttonType: 'PANELBUTTON',
                          uiactionId:
                            'panel_message_layout_button_calluilogic2_click@mail_message',
                          renderMode: 'BUTTON',
                          tooltip: '回复',
                          uiactionTarget: 'SINGLEDATA',
                          caption: '回复',
                          itemStyle: 'STYLE2',
                          itemType: 'BUTTON',
                          layoutPos: {
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          sysImage: {
                            cssClass: 'fa fa-comment-o',
                            glyph: 'xf0e5@FontAwesome',
                          },
                          id: 'button_calluilogic2',
                        },
                      ],
                      layout: {
                        dir: 'row-reverse',
                        layout: 'FLEX',
                      },
                      dataRegionType: 'INHERIT',
                      caption: '容器',
                      itemStyle: 'DEFAULT',
                      itemType: 'CONTAINER',
                      controlLogics: [
                        {
                          itemName: 'CONTAINER2',
                          logicTag: 'message_list_itempanel',
                          logicType: 'SCRIPT',
                          scriptCode: 'context.srfreadonly != true',
                          triggerType: 'ITEMVISIBLE',
                          name: 'readOnly',
                          id: 'readonly',
                        },
                      ],
                      layoutPos: {
                        shrink: 1,
                        layout: 'FLEX',
                      },
                      panelItemGroupLogics: [
                        {
                          logicCat: 'PANELVISIBLE',
                          relatedItemNames: ['field_text_dynamic2'],
                          groupOP: 'AND',
                          panelItemLogics: [
                            {
                              condOp: 'NOTEQ',
                              dstModelField: 'FIELD_TEXT_DYNAMIC2',
                              value: '<p><del>该评论已删除</del></p>',
                              logicType: 'SINGLE',
                              id: '逻辑项',
                            },
                          ],
                          logicType: 'GROUP',
                        },
                      ],
                      id: 'container2',
                    },
                  ],
                  layout: {
                    align: 'space-between',
                    dir: 'row',
                    layout: 'FLEX',
                  },
                  dataRegionType: 'INHERIT',
                  caption: '容器',
                  itemStyle: 'DEFAULT',
                  itemType: 'CONTAINER',
                  layoutPos: {
                    shrink: 1,
                    layout: 'FLEX',
                  },
                  id: 'container',
                },
                {
                  actionGroupExtractMode: 'ITEM',
                  panelItems: [
                    {
                      editor: {
                        contentType: 'HTML',
                        editorParams: {
                          contenttype: 'HTML',
                          LINKVIEWID: 'plmweb.recent_custom_redirect_view',
                          SCRIPTCODE:
                            'data.content?.replace(/@{[^,]*,"name":"(.*?)"}/g,"<span class=\'comment-tag\'>@$1</span>").replace(/@{[^,]*,name=(.*?)}/g,"<span class=\'comment-tag\'>@$1</span>").replaceAll(/\\#\\{(\\".+?\\":\\".+?\\")(,\\"icon\\":\\"((.|[\\t\\r\\f\\n\\s])+?)\\")*\\}/g, (x, value, icon) => {const item = JSON.parse("{" + value + "}"); if (icon) { icon = icon.slice(8).slice(1, -1).trim(); } return controller.parseCommentTag({icon, ...item});}).replaceAll(/\\{\\"\\emoji\\":\\"(.+?)\\"\\}/g,(x, emoji) => {const tempVal = decodeURIComponent(atob(emoji)); return `<span class="emoji-tag">${tempVal}</span>`})',
                          TRANSLATEOBJ: '{"&reg":"&amp;reg"}',
                        },
                        editorStyle: 'MAIL_MESSAGE_ITEM',
                        editorType: 'RAW',
                        sysPFPluginId: 'mail_message_item',
                        predefinedType: 'FIELD_TEXT_DYNAMIC',
                        valueType: 'SIMPLE',
                        editable: true,
                        id: 'field_text_dynamic2',
                      },
                      viewFieldName: 'BODY',
                      allowEmpty: true,
                      caption: '文本(动态)',
                      itemStyle: 'DEFAULT',
                      itemType: 'FIELD',
                      layoutPos: {
                        shrink: 1,
                        layout: 'FLEX',
                      },
                      id: 'field_text_dynamic2',
                    },
                    {
                      actionGroupExtractMode: 'ITEM',
                      panelItems: [
                        {
                          editor: {
                            halign: 'LEFT',
                            renderMode: 'TEXT_DYNAMIC',
                            valign: 'MIDDLE',
                            wrapMode: 'NOWRAP',
                            appCodeListId: 'ehrapp.sysoperator',
                            editorType: 'SPAN',
                            predefinedType: 'FIELD_TEXT_DYNAMIC',
                            valueType: 'SIMPLE',
                            editable: true,
                            id: 'parent_author_id',
                          },
                          viewFieldName: 'PARENT_AUTHOR_ID',
                          allowEmpty: true,
                          convertToCodeItemText: true,
                          caption: '文本(动态)',
                          itemStyle: 'DEFAULT',
                          itemType: 'FIELD',
                          layoutPos: {
                            shrink: 0,
                            layout: 'FLEX',
                          },
                          id: 'parent_author_id',
                        },
                        {
                          rawItem: {
                            caption: '：',
                            halign: 'LEFT',
                            renderMode: 'PARAGRAPH',
                            valign: 'MIDDLE',
                            wrapMode: 'NOWRAP',
                            contentType: 'RAW',
                            predefinedType: 'STATIC_LABEL',
                            id: 'static_label',
                          },
                          caption: '标签',
                          itemStyle: 'DEFAULT',
                          itemType: 'RAWITEM',
                          layoutPos: {
                            shrink: 0,
                            layout: 'FLEX',
                          },
                          showCaption: true,
                          id: 'static_label',
                        },
                        {
                          editor: {
                            contentType: 'HTML',
                            editorParams: {
                              contenttype: 'HTML',
                              SCRIPTCODE:
                                'data.content?.replace(/@{[^,]*,"name":"(.*?)"}/g,"<span class=\'comment-tag\'>@$1</span>").replace(/@{[^,]*,name=(.*?)}/g,"<span class=\'comment-tag\'>@$1</span>").replaceAll(/\\#\\{(\\".+?\\":\\".+?\\")(,\\"icon\\":\\"((.|[\\t\\r\\f\\n\\s])+?)\\")*\\}/g, (x, value, icon) => {const item = JSON.parse("{" + value + "}"); if (icon) { icon = icon.slice(8).slice(1, -1).trim(); } return controller.parseCommentTag({icon, ...item});}).replaceAll(/\\{\\"\\emoji\\":\\"(.+?)\\"\\}/g,(x, emoji) => {const tempVal = decodeURIComponent(atob(emoji)); return `<span class="emoji-tag">${tempVal}</span>`})',
                              TRANSLATEOBJ: '{"&reg":"&amp;reg"}',
                            },
                            editorStyle: 'MAIL_MESSAGE_ITEM',
                            editorType: 'RAW',
                            sysPFPluginId: 'mail_message_item',
                            predefinedType: 'FIELD_TEXT_DYNAMIC',
                            valueType: 'SIMPLE',
                            editable: true,
                            id: 'parent_body',
                          },
                          viewFieldName: 'PARENT_BODY',
                          allowEmpty: true,
                          caption: '文本(动态)',
                          itemStyle: 'DEFAULT',
                          itemType: 'FIELD',
                          layoutPos: {
                            grow: 1,
                            shrink: 1,
                            layout: 'FLEX',
                          },
                          id: 'parent_body',
                        },
                      ],
                      layout: {
                        align: 'flex-start',
                        dir: 'row',
                        layout: 'FLEX',
                        valign: 'center',
                      },
                      dataRegionType: 'INHERIT',
                      caption: '容器',
                      itemStyle: 'DEFAULT',
                      itemType: 'CONTAINER',
                      layoutPos: {
                        shrink: 1,
                        layout: 'FLEX',
                      },
                      panelItemGroupLogics: [
                        {
                          logicCat: 'PANELVISIBLE',
                          relatedItemNames: ['pid'],
                          groupOP: 'AND',
                          panelItemLogics: [
                            {
                              condOp: 'ISNOTNULL',
                              dstModelField: 'PID',
                              logicType: 'SINGLE',
                              id: '逻辑项',
                            },
                          ],
                          logicType: 'GROUP',
                        },
                      ],
                      sysCss: {
                        cssName: 'comment-replay',
                      },
                      id: 'container3',
                    },
                  ],
                  layout: {
                    layout: 'FLEX',
                  },
                  dataRegionType: 'INHERIT',
                  caption: '容器',
                  cssStyle: 'padding-left: 36px;',
                  itemStyle: 'DEFAULT',
                  itemType: 'CONTAINER',
                  layoutPos: {
                    shrink: 1,
                    layout: 'FLEX',
                  },
                  id: 'container4',
                },
              ],
              layout: {
                dir: 'column',
                layout: 'FLEX',
              },
              dataRegionType: 'INHERIT',
              itemStyle: 'DEFAULT',
              itemType: 'CONTAINER',
              layoutPos: {
                colMD: 24,
                layout: 'TABLE_24COL',
              },
              id: 'page_container',
            },
          ],
          codeName: 'message_layout',
          controlType: 'PANEL',
          logicName: '消息显示面板',
          appDataEntityId: 'ehrapp.mail_message',
          controlLogics: [
            {
              eventNames: 'onClick',
              itemName: 'BUTTON_CALLUILOGIC1',
              logicTag: 'message_list_itempanel',
              logicType: 'SCRIPT',
              scriptCode:
                '// 获取目标面板项\r\nconst panelItem = view.layoutPanel.findPanelItemByName("message_panel");\r\nif (panelItem) {\r\n  // 切换可见状态\r\n  panelItem.state.visible =true;\r\n}',
              triggerType: 'CTRLEVENT',
              id: 'edit_invoke',
            },
            {
              eventNames: 'onClick',
              itemName: 'BUTTON_CALLUILOGIC2',
              logicTag: 'message_list_itempanel',
              logicType: 'SCRIPT',
              scriptCode:
                '// 获取目标面板项\r\nconst panelItem = view.layoutPanel.findPanelItemByName("message_panel");\r\nif (panelItem) {\r\n  // 切换可见状态\r\n  panelItem.state.visible =true;\r\n}',
              triggerType: 'CTRLEVENT',
              id: 'reply_invoke',
            },
          ],
          controlParam: {},
          modelId: '49c1d70914a8daa19da1198fc100f061',
          modelType: 'PSSYSVIEWPANEL',
          name: 'message_list_itempanel',
          id: 'ehrapp.mail_message.message_layout',
        },
        minorSortDir: 'DESC',
        minorSortAppDEFieldId: 'create_date',
        delistDataItems: [
          {
            appDEFieldId: 'parent_id',
            dataType: 25,
            id: 'pid',
          },
          {
            appDEFieldId: 'parent_author_id',
            dataType: 25,
            id: 'parent_author_id',
          },
          {
            appDEFieldId: 'create_uid',
            dataType: 25,
            id: 'create_uid',
          },
          {
            appDEFieldId: 'parent_body',
            dataType: 21,
            id: 'parent_body',
          },
          {
            appDEFieldId: 'create_date',
            dataType: 5,
            format: 'YYYY-MM-DD HH:mm:ss',
            id: 'create_date',
          },
          {
            appDEFieldId: 'id',
            dataType: 25,
            id: 'id',
          },
          {
            appDEFieldId: 'body',
            dataType: 21,
            id: 'body',
          },
          {
            appDEFieldId: 'id',
            dataType: 25,
            id: 'srfkey',
          },
          {
            appDEFieldId: 'parent_id',
            dataType: 25,
            id: 'parent_id',
          },
          {
            appDEFieldId: 'record_company_id',
            dataType: 25,
            id: 'record_company_id',
          },
          {
            appDEFieldId: 'subtype_id',
            dataType: 25,
            id: 'subtype_id',
          },
          {
            appDEFieldId: 'record_alias_domain_id',
            dataType: 25,
            id: 'record_alias_domain_id',
          },
          {
            appDEFieldId: 'mail_activity_type_id',
            dataType: 25,
            id: 'mail_activity_type_id',
          },
          {
            appDEFieldId: 'author_guest_id',
            dataType: 25,
            id: 'author_guest_id',
          },
          {
            appDEFieldId: 'author_id',
            dataType: 25,
            id: 'author_id',
          },
        ],
        pagingSize: 1000,
        enableGroup: true,
        showHeader: true,
        singleSelect: true,
        navViewPos: 'NONE',
        createControlAction: {
          appDEMethodId: 'create',
          appDataEntityId: 'ehrapp.mail_message',
          id: 'create',
        },
        fetchControlAction: {
          appDEMethodId: 'fetch_common',
          appDataEntityId: 'ehrapp.mail_message',
          id: 'fetch',
        },
        getControlAction: {
          appDEMethodId: 'get',
          appDataEntityId: 'ehrapp.mail_message',
          id: 'load',
        },
        controlNavContexts: [
          {
            key: 'MAIL_THREAD',
            value: 'mail_thread',
            name: 'MAIL_THREAD',
            id: 'mail_thread',
          },
        ],
        removeControlAction: {
          appDEMethodId: 'remove',
          appDataEntityId: 'ehrapp.mail_message',
          id: 'remove',
        },
        updateControlAction: {
          appDEMethodId: 'update',
          appDataEntityId: 'ehrapp.mail_message',
          id: 'update',
        },
        autoLoad: true,
        showBusyIndicator: true,
        codeName: 'comment_list',
        controlType: 'LIST',
        logicName: 'comment_list',
        appDataEntityId: 'ehrapp.mail_message',
        controlParam: {
          ctrlParams: {
            'SRFNAVCTX.MAIL_THREAD': '%mail_thread%',
          },
        },
        modelId: 'a1445c21697db0474e9f21a96ef5fa92',
        modelType: 'PSDELIST',
        name: 'message_list',
        id: 'ehrapp.mail_message.comment_list',
      },
      {
        capLanguageRes: {
          lanResTag: 'PAGE.CAPTION.MAIL_THREAD.COMPONENT_VIEW',
        },
        caption: '邮件会话',
        codeName: 'component_viewcaptionbar',
        controlType: 'CAPTIONBAR',
        appDataEntityId: 'ehrapp.mail_thread',
        controlParam: {},
        name: 'captionbar',
        id: 'component_viewcaptionbar',
      },
    ],
    codeName: 'mail_thread_panel',
    controlType: 'VIEWLAYOUTPANEL',
    logicName: '邮件会话部件面板',
    appDataEntityId: 'ehrapp.mail_thread',
    controlLogics: [
      {
        eventNames: 'onClick',
        itemName: 'attachment_count_group',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        scriptCode:
          '// 获取目标面板项\r\nconst panelItem = view.layoutPanel.findPanelItemByName("attachment_panel");\r\nif (panelItem) {\r\n  // 切换可见状态\r\n  panelItem.state.visible = !panelItem.state.visible;\r\n}',
        triggerType: 'CTRLEVENT',
        id: 'attachments_toggle',
      },
      {
        eventNames: 'onChange',
        itemName: 'MAIL_FOLLOWERS',
        logicTag: 'layoutpanel',
        logicType: 'APPDEUILOGIC',
        appDEUILogicId: 'attention_personnel_update_emb',
        appDataEntityId: 'ehrapp.mail_followers',
        triggerType: 'CTRLEVENT',
        id: 'commit_attention',
      },
      {
        eventNames: 'onMounted',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        scriptCode:
          '// 获取目标面板项消息发送\r\nconst panelItem = view.layoutPanel.findPanelItemByName("message_panel");\r\nif (panelItem) {\r\n  // 切换可见状态\r\n  panelItem.state.visible = false;\r\n}\r\n\r\n// 获取目标面板项文件列表\r\nconst panelItem2 = view.layoutPanel.findPanelItemByName("attachment_panel");\r\nif (panelItem2) {\r\n  // 切换可见状态\r\n  panelItem2.state.visible = false;\r\n}\r\n',
        triggerType: 'CTRLEVENT',
        id: 'hidden_comment',
      },
      {
        eventNames: 'onCreated',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        scriptCode:
          "\r\n// 获取视图上下文\r\nconst topContext = view.parentView.context;\r\nconst appEntityId = view.parentView.model.appDataEntityId;\r\nconst entityName = appEntityId.split('.').pop(); // 取点号后最后一段\r\n\r\nconst resId = topContext[entityName];\r\n\r\n// 设置当前视图的上下文变量 mail_thread\r\n// 注意：实际应用中上下文对象通常是只读的，建议通过视图参数传递\r\nview.params.mail_thread = resId;\r\nview.params.srfmodelname = entityName;\r\nview.params.mail_activity_mixin = resId;",
        triggerType: 'CTRLEVENT',
        id: 'init_mail_thread',
      },
      {
        eventNames: 'onChange',
        itemName: 'PANELPART',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        triggerType: 'CTRLEVENT',
        id: 'logic',
      },
      {
        eventNames: 'onLoadSuccess',
        itemName: 'attachment_list',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        scriptCode:
          'console.log("更新附件计数");\r\nconst attachment_count =view.layoutPanel.findPanelItemByName("container_thread").panelItems.attachment_count;\r\nif (attachment_count) {\r\n    attachment_count.setDataValue(ctrl.state.total);\r\n}',
        triggerType: 'CTRLEVENT',
        id: 'logic1',
      },
      {
        eventNames: 'onLoadSuccess',
        itemName: 'activity_list',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        scriptCode:
          'console.log("更新活动状态");\r\nconst activity_state =view.layoutPanel.findPanelItemByName("activity").panelItems.activity_state;\r\nif (activity_state && ctrl.state.total === 0) {\r\n    activity_state.setDataValue(null);\r\n}',
        triggerType: 'CTRLEVENT',
        id: 'reload_activity_state',
      },
      {
        eventNames: 'onClick',
        itemName: 'BUTTON_CALLUILOGIC',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        scriptCode:
          '// 获取目标面板项\r\nconst panelItem = view.layoutPanel.findPanelItemByName("message_panel");\r\nif (panelItem) {\r\n  // 切换可见状态\r\n  panelItem.state.visible = !panelItem.state.visible;\r\n}',
        triggerType: 'CTRLEVENT',
        id: 'send_message',
      },
      {
        eventNames: 'onClick',
        itemName: 'COMMENT_SEND',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        scriptCode:
          'const uiDomain = ibiz.uiDomainManager.get(context.srfsessionid);\nif (uiDomain) {\n    uiDomain.dataChangeCompleted()\n}',
        triggerType: 'CTRLEVENT',
        id: 'logic2',
      },
      {
        eventNames: 'onClick',
        itemName: 'COMMENT_CANCEL',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        scriptCode:
          'const uiDomain = ibiz.uiDomainManager.get(context.srfsessionid);\nif (uiDomain) {\n    uiDomain.dataChangeCompleted()\n}',
        triggerType: 'CTRLEVENT',
        id: 'logic3',
      },
      {
        eventNames: 'onBlur',
        itemName: 'message_inputbox',
        logicTag: 'layoutpanel',
        logicType: 'APPDEUILOGIC',
        appDEUILogicId: 'comment_icon_hidden',
        appDataEntityId: 'ehrapp.mail_message',
        triggerType: 'CTRLEVENT',
        name: 'onBlur',
        id: 'onblur',
      },
      {
        eventNames: 'onChange',
        itemName: 'message_inputbox',
        logicTag: 'layoutpanel',
        logicType: 'SCRIPT',
        scriptCode:
          'const uiDomain = ibiz.uiDomainManager.get(context.srfsessionid);\nif (!uiDomain) {\n    return;\n}\n\nconst value = data[0].message_inputbox;\nif (value) {\n    uiDomain.dataChange();\n} else {\n    uiDomain.dataChangeCompleted();\n}',
        triggerType: 'CTRLEVENT',
        name: 'onChange',
        id: 'onchange',
      },
      {
        eventNames: 'onFocus',
        itemName: 'message_inputbox',
        logicTag: 'layoutpanel',
        logicType: 'APPDEUILOGIC',
        appDEUILogicId: 'comment_icon_show',
        appDataEntityId: 'ehrapp.mail_message',
        triggerType: 'CTRLEVENT',
        name: 'onFocus',
        id: 'onfocus',
      },
    ],
    controlParam: {},
    modelId: '9de21ae103c86161a8b8d614755a5925',
    modelType: 'PSSYSVIEWLAYOUTPANEL',
    name: 'layoutpanel',
    id: 'mail_thread_panel',
  },
  title: '邮件会话',
  titleLanguageRes: {
    lanResTag: 'PAGE.TITLE.MAIL_THREAD.COMPONENT_VIEW',
  },
  viewStyle: 'DEFAULT',
  viewType: 'DECUSTOMVIEW',
  enableDP: true,
  showCaptionBar: true,
  modelId: '766c0cc78730bf91866e066530abf529',
  modelType: 'PSAPPDEVIEW',
  name: 'mail_thread_component_view',
  id: 'ehrapp.mail_thread_component_view',
};
