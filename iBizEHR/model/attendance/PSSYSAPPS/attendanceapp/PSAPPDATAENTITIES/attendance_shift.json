{
  "getAllPSAppDEActions" : [ {
    "actionMode" : "CREATE",
    "actionType" : "BUILTIN",
    "afterCode" : "// 统一处理data为对象或数组的情况\r\nconst dataList = Array.isArray(data) ? data : [data];\r\n\r\nfor (const item of dataList) {\r\n    if (item.scopes) {\r\n        let _scopes = item.scopes.map(scope => ({\r\n            ...scope,\r\n            shift_id: item.id\r\n        }));\r\n\r\n        // 创建独立上下文（避免污染全局context）\r\n        const itemContext = {\r\n            ...context,\r\n            attendance_shift: item.id  // 覆盖当前shift\r\n        };\r\n\r\n        const serviceUtil = ibiz.hub.getApp(context.srfappid).deService;\r\n        const scopeService = await serviceUtil.getService(context, 'attendanceapp.attendance_scope');\r\n        const res = await scopeService.createTemp(itemContext,_scopes)\r\n        if(res && res.ok){\r\n            _scopes = res.data;\r\n            console.log('scope临时数据创建成功:', _scopes);\r\n        }\r\n    }\r\n}",
    "beforeCode" : "\r\n// 统一处理data为对象或数组的情况\r\nconst dataList = Array.isArray(data) ? data : [data];\r\n\r\nlet counter = 0;  \r\nfor (const item of dataList) {  \r\n    if (item.id == null) {  \r\n        item.id = Date.now() + counter++;  \r\n    }  \r\n}",
    "codeName" : "CreateTemp",
    "methodType" : "DEACTION",
    "name" : "CreateTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "CreateTempInput",
      "name" : "CreateTempInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "CreateTempResult",
      "name" : "CreateTempResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/CreateTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true
  }, {
    "actionMode" : "CREATE",
    "actionType" : "BUILTIN",
    "codeName" : "CreateTempMajor",
    "methodType" : "DEACTION",
    "name" : "CreateTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "CreateTempMajorInput",
      "name" : "CreateTempMajorInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "CreateTempMajorResult",
      "name" : "CreateTempMajorResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/CreateTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true
  }, {
    "actionMode" : "READ",
    "actionType" : "DELOGIC",
    "codeName" : "GetDefaultShift",
    "methodType" : "DEACTION",
    "name" : "GetDefaultShift",
    "getPSAppDELogic" : {
      "modelref" : true,
      "id" : "GetDefaultTemp"
    },
    "getPSAppDEMethodInput" : {
      "codeName" : "GetDefaultShiftInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "GetDefaultShiftInput",
      "type" : "KEYFIELD"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetDefaultShiftResult",
      "name" : "GetDefaultShiftResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetDefaultShift.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "builtinMethod" : false
  }, {
    "actionMode" : "GETDRAFT",
    "actionType" : "BUILTIN",
    "afterCode" : "data.attendance_ratio = 1.0;\r\ndata.name = \"班次\";\r\nvar _workNumber = data.working_number ? data.working_number : 1;\r\nvar _scopes = [];\r\n\r\n// 根据班次数量定义时间段配置\r\nvar timeConfigs = {\r\n  1: [{ start: \"08:00\", end: \"17:00\" }],\r\n  2: [\r\n    { start: \"08:00\", end: \"12:00\" },\r\n    { start: \"13:30\", end: \"17:30\" }\r\n    ],\r\n  3: [\r\n    { start: \"08:00\", end: \"12:00\" },\r\n    { start: \"13:30\", end: \"17:30\" },\r\n    { start: \"19:00\", end: \"23:00\" }\r\n    ]\r\n};\r\n\r\n// 获取当前班次数量的时间配置\r\nvar currentConfig = timeConfigs[_workNumber] || timeConfigs[1]; \r\n\r\ncurrentConfig.forEach((timeRange, index) => {\r\n  var scope = {\r\n    early_for_absenteeism: 60,\r\n    early_for_early: 0,\r\n    latest_checkout: 480,\r\n    end_base_time: timeRange.end,\r\n    start_base_time: timeRange.start,\r\n    earliest_checkin: 60,\r\n    late_for_absenteeism: 60,\r\n    late_for_late: 0,\r\n    shift_id: data.id\r\n  };\r\n  _scopes.push(scope);\r\n});\r\n\r\ndata.scopes = _scopes;",
    "codeName" : "GetDraftTemp",
    "methodType" : "DEACTION",
    "name" : "GetDraftTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "GetDraftTempInput",
      "name" : "GetDraftTempInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetDraftTempResult",
      "name" : "GetDraftTempResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetDraftTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true
  }, {
    "actionMode" : "GETDRAFT",
    "actionType" : "BUILTIN",
    "codeName" : "GetDraftTempMajor",
    "methodType" : "DEACTION",
    "name" : "GetDraftTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "GetDraftTempMajorInput",
      "name" : "GetDraftTempMajorInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetDraftTempMajorResult",
      "name" : "GetDraftTempMajorResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetDraftTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true
  }, {
    "actionMode" : "READ",
    "actionType" : "BUILTIN",
    "codeName" : "GetTemp",
    "methodType" : "DEACTION",
    "name" : "GetTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "GetTempInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "GetTempInput",
      "type" : "KEYFIELD"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetTempResult",
      "name" : "GetTempResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true
  }, {
    "actionMode" : "READ",
    "actionType" : "BUILTIN",
    "codeName" : "GetTempMajor",
    "methodType" : "DEACTION",
    "name" : "GetTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "GetTempMajorInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "GetTempMajorInput",
      "type" : "KEYFIELD"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetTempMajorResult",
      "name" : "GetTempMajorResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true
  }, {
    "actionMode" : "DELETE",
    "actionType" : "BUILTIN",
    "batchActionMode" : 1,
    "codeName" : "RemoveTemp",
    "methodType" : "DEACTION",
    "name" : "RemoveTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "RemoveTempInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "RemoveTempInput",
      "type" : "KEYFIELDS"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "RemoveTempResult",
      "name" : "RemoveTempResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/RemoveTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "DELETE"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true,
    "enableBatchAction" : true
  }, {
    "actionMode" : "DELETE",
    "actionType" : "BUILTIN",
    "batchActionMode" : 1,
    "codeName" : "RemoveTempMajor",
    "methodType" : "DEACTION",
    "name" : "RemoveTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "RemoveTempMajorInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "RemoveTempMajorInput",
      "type" : "KEYFIELDS"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "RemoveTempMajorResult",
      "name" : "RemoveTempMajorResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/RemoveTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "DELETE"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true,
    "enableBatchAction" : true
  }, {
    "actionMode" : "UPDATE",
    "actionType" : "DELOGIC",
    "codeName" : "UpdateByType",
    "methodType" : "DEACTION",
    "name" : "UpdateByType",
    "getPSAppDELogic" : {
      "modelref" : true,
      "id" : "UpdateByType"
    },
    "getPSAppDEMethodInput" : {
      "codeName" : "UpdateByTypeInput",
      "name" : "UpdateByTypeInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "UpdateByTypeResult",
      "name" : "UpdateByTypeResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/UpdateByType.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "UPDATE"
    },
    "builtinMethod" : false
  }, {
    "actionMode" : "UPDATE",
    "actionType" : "BUILTIN",
    "afterCode" : "// 获取所有班次临时数据\r\nconsole.log(\"更新scope\")\r\nconst serviceUtil = ibiz.hub.getApp(context.srfappid).deService;\nconst service = await serviceUtil.getService(context, 'attendanceapp.attendance_scope');\r\nconst list = service.local.getList(context);\r\n\r\nconst beforeScopes = list.filter(item => item.shift_id === data.id);\r\nbeforeScopes.forEach(item => {\r\n    service.local.delete(context, item.id);\r\n})\r\n\r\nlet _scopes = data.scopes.map(scope => ({\r\n    ...scope,\r\n    shift_id: data.id\r\n}));\r\n\r\nconst res = await service.exec('CreateTemp', context,_scopes);\r\nif(res && res.ok){\r\n    console.log('scope临时数据创建成功:', _scopes);\r\n}\r\n\r\n\r\n\r\n",
    "codeName" : "UpdateTemp",
    "methodType" : "DEACTION",
    "name" : "UpdateTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "UpdateTempInput",
      "name" : "UpdateTempInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "UpdateTempResult",
      "name" : "UpdateTempResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/UpdateTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "UPDATE"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true
  }, {
    "actionMode" : "UPDATE",
    "actionType" : "BUILTIN",
    "codeName" : "UpdateTempMajor",
    "methodType" : "DEACTION",
    "name" : "UpdateTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "UpdateTempMajorInput",
      "name" : "UpdateTempMajorInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "UpdateTempMajorResult",
      "name" : "UpdateTempMajorResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/UpdateTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "UPDATE"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true
  }, {
    "actionMode" : "CHECKKEY",
    "actionTag" : "CheckKey",
    "codeName" : "check_key",
    "methodType" : "DEACTION",
    "name" : "CheckKey",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/CheckKey.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "check_key"
    },
    "requestMethod" : "POST",
    "requestParamType" : "ENTITY",
    "requestPath" : "/check_key",
    "builtinMethod" : false
  }, {
    "actionMode" : "CREATE",
    "actionTag" : "Create",
    "codeName" : "create",
    "methodType" : "DEACTION",
    "name" : "Create",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Create.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "Create"
    },
    "requestMethod" : "POST",
    "requestParamType" : "ENTITY",
    "builtinMethod" : false,
    "noServiceCodeName" : true
  }, {
    "actionMode" : "READ",
    "actionTag" : "Get",
    "codeName" : "get",
    "methodType" : "DEACTION",
    "name" : "Get",
    "getPSAppDEMethodInput" : {
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "输入对象",
      "type" : "KEYFIELD"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Get.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "Get"
    },
    "requestField" : "ID",
    "requestMethod" : "GET",
    "requestParamType" : "FIELD",
    "builtinMethod" : false,
    "needResourceKey" : true,
    "noServiceCodeName" : true
  }, {
    "actionMode" : "GETDRAFT",
    "actionTag" : "GetDraft",
    "codeName" : "get_draft",
    "methodType" : "DEACTION",
    "name" : "GetDraft",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetDraft.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "get_draft"
    },
    "requestMethod" : "GET",
    "requestParamType" : "NONE",
    "requestPath" : "/get_draft",
    "builtinMethod" : false
  }, {
    "actionMode" : "DELETE",
    "actionTag" : "Remove",
    "batchActionMode" : 1,
    "codeName" : "remove",
    "methodType" : "DEACTION",
    "name" : "Remove",
    "getPSAppDEMethodInput" : {
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "输入对象",
      "type" : "KEYFIELDS"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Remove.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "DELETE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "Remove"
    },
    "requestField" : "ID",
    "requestMethod" : "DELETE",
    "requestParamType" : "FIELD",
    "builtinMethod" : false,
    "enableBatchAction" : true,
    "needResourceKey" : true,
    "noServiceCodeName" : true
  }, {
    "actionMode" : "SAVE",
    "actionTag" : "Save",
    "codeName" : "save",
    "methodType" : "DEACTION",
    "name" : "Save",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Save.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "save"
    },
    "requestMethod" : "POST",
    "requestParamType" : "ENTITY",
    "requestPath" : "/save",
    "builtinMethod" : false
  }, {
    "actionMode" : "UPDATE",
    "actionTag" : "Update",
    "codeName" : "update",
    "methodType" : "DEACTION",
    "name" : "Update",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Update.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "UPDATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "Update"
    },
    "requestMethod" : "PUT",
    "requestParamType" : "ENTITY",
    "builtinMethod" : false,
    "needResourceKey" : true,
    "noServiceCodeName" : true
  } ],
  "getAllPSAppDEDataSets" : [ {
    "codeName" : "fetch_default",
    "dataSetName" : "DEFAULT",
    "dataSetTag" : "Default",
    "methodType" : "FETCH",
    "name" : "fetch_default",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_filter_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "PAGE"
    },
    "getPSDEDataSet" : {
      "modelref" : true,
      "id" : "Default"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "fetch_default"
    },
    "requestMethod" : "POST",
    "requestParamType" : "ENTITY",
    "requestPath" : "/fetch_default",
    "builtinMethod" : false
  } ],
  "getAllPSAppDEFields" : [ {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "MobileDefault",
      "name" : "[ATTENDANCE_RATIO][出勤比率]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.ATTENDANCE_RATIO"
        },
        "codeName" : "MobileDefault",
        "editorType" : "MOBTEXT",
        "name" : "[ATTENDANCE_RATIO][出勤比率]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    }, {
      "codeName" : "Default",
      "name" : "[ATTENDANCE_RATIO][出勤比率]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.ATTENDANCE_RATIO"
        },
        "codeName" : "Default",
        "editorType" : "TEXTBOX",
        "name" : "[ATTENDANCE_RATIO][出勤比率]",
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    } ],
    "codeName" : "attendance_ratio",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.ATTENDANCE_RATIO"
    },
    "logicName" : "出勤比率",
    "name" : "ATTENDANCE_RATIO",
    "stdDataType" : 7
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "MobileDefault",
      "name" : "[WORKING_NUMBER][上下班次数]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.WORKING_NUMBER"
        },
        "codeName" : "MobileDefault",
        "editorType" : "MOBDROPDOWNLIST",
        "name" : "[WORKING_NUMBER][上下班次数]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true,
        "needCodeListConfig" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    }, {
      "codeName" : "Default",
      "name" : "[WORKING_NUMBER][上下班次数]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.WORKING_NUMBER"
        },
        "codeName" : "Default",
        "editorType" : "DROPDOWNLIST",
        "name" : "[WORKING_NUMBER][上下班次数]",
        "uIMode" : "DEFAULT",
        "needCodeListConfig" : true
      },
      "type" : "DEFAULT"
    } ],
    "codeName" : "working_number",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.WORKING_NUMBER"
    },
    "logicName" : "上下班次数",
    "name" : "WORKING_NUMBER",
    "stdDataType" : 9
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[WORK_LOAD][属性]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.WORK_LOAD"
        },
        "codeName" : "Default",
        "editorType" : "TEXTBOX",
        "name" : "[WORK_LOAD][属性]",
        "stringLength" : 100,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[WORK_LOAD][属性]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.WORK_LOAD"
        },
        "codeName" : "MobileDefault",
        "editorType" : "MOBTEXT",
        "name" : "[WORK_LOAD][属性]移动端默认",
        "stringLength" : 100,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "work_load",
    "getComputePSAppDEFLogic" : {
      "modelref" : true,
      "id" : "calcWorkLoad"
    },
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.WORK_LOAD"
    },
    "logicName" : "工时",
    "name" : "WORK_LOAD",
    "stdDataType" : 25,
    "stringLength" : 100
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[SCOPES][时间范围]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "HIDDEN",
        "name" : "[SCOPES][时间范围]",
        "stringLength" : 1048576,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[SCOPES][时间范围]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "HIDDEN",
        "name" : "[SCOPES][时间范围]移动端默认",
        "stringLength" : 1048576,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "scopes",
    "logicName" : "时间范围",
    "name" : "SCOPES",
    "stdDataType" : 21,
    "stringLength" : 1048576
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[DEFAULT_FLAG][默认标识]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "DROPDOWNLIST_100",
        "name" : "[DEFAULT_FLAG][默认标识]",
        "uIMode" : "DEFAULT",
        "needCodeListConfig" : true
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[DEFAULT_FLAG][默认标识]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBSWITCH",
        "name" : "[DEFAULT_FLAG][默认标识]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true,
        "needCodeListConfig" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "default_flag",
    "logicName" : "默认标识",
    "name" : "DEFAULT_FLAG",
    "stdDataType" : 9
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[PUBLIC_FLAG][公共]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "DROPDOWNLIST_100",
        "name" : "[PUBLIC_FLAG][公共]",
        "uIMode" : "DEFAULT",
        "needCodeListConfig" : true
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[PUBLIC_FLAG][公共]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBSWITCH",
        "name" : "[PUBLIC_FLAG][公共]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true,
        "needCodeListConfig" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "public_flag",
    "logicName" : "公共",
    "name" : "PUBLIC_FLAG",
    "stdDataType" : 9
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[WORK_TIME][工作时间]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "TEXTBOX",
        "name" : "[WORK_TIME][工作时间]",
        "stringLength" : 100,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[WORK_TIME][工作时间]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBTEXT",
        "name" : "[WORK_TIME][工作时间]移动端默认",
        "stringLength" : 100,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "work_time",
    "getComputePSAppDEFLogic" : {
      "modelref" : true,
      "id" : "calcWorkTime"
    },
    "logicName" : "工作时间",
    "name" : "WORK_TIME",
    "stdDataType" : 25,
    "stringLength" : 100
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "MobileDefault",
      "name" : "[SCHEDULE_TYPE][班次类型]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBTEXT",
        "name" : "[SCHEDULE_TYPE][班次类型]移动端默认",
        "stringLength" : 100,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    }, {
      "codeName" : "Default",
      "name" : "[SCHEDULE_TYPE][班次类型]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "TEXTBOX",
        "name" : "[SCHEDULE_TYPE][班次类型]",
        "stringLength" : 100,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    } ],
    "codeName" : "schedule_type",
    "logicName" : "班次类型",
    "name" : "SCHEDULE_TYPE",
    "stdDataType" : 25,
    "stringLength" : 100
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[WORKDAY_ID][工作日标识]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "TEXTBOX",
        "name" : "[WORKDAY_ID][工作日标识]",
        "stringLength" : 100,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[WORKDAY_ID][工作日标识]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBTEXT",
        "name" : "[WORKDAY_ID][工作日标识]移动端默认",
        "stringLength" : 100,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "workday_id",
    "logicName" : "工作日标识",
    "name" : "WORKDAY_ID",
    "stdDataType" : 25,
    "stringLength" : 100
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[OVERTIME_VALID][加班有效]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "DROPDOWNLIST_100",
        "name" : "[OVERTIME_VALID][加班有效]",
        "uIMode" : "DEFAULT",
        "needCodeListConfig" : true
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[OVERTIME_VALID][加班有效]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBSWITCH",
        "name" : "[OVERTIME_VALID][加班有效]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true,
        "needCodeListConfig" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "overtime_valid",
    "logicName" : "加班有效",
    "name" : "OVERTIME_VALID",
    "stdDataType" : 9
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "MobileDefault",
      "name" : "[REST_ENABLE][休息配置启用]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBSWITCH",
        "name" : "[REST_ENABLE][休息配置启用]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true,
        "needCodeListConfig" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    }, {
      "codeName" : "Default",
      "name" : "[REST_ENABLE][休息配置启用]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "DROPDOWNLIST_100",
        "name" : "[REST_ENABLE][休息配置启用]",
        "uIMode" : "DEFAULT",
        "needCodeListConfig" : true
      },
      "type" : "DEFAULT"
    } ],
    "codeName" : "rest_enable",
    "logicName" : "休息配置启用",
    "name" : "REST_ENABLE",
    "stdDataType" : 9
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "MobileDefault",
      "name" : "[INVALID_OVERTIME][不计入加班的最小分钟]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBTEXT",
        "name" : "[INVALID_OVERTIME][不计入加班的最小分钟]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    }, {
      "codeName" : "Default",
      "name" : "[INVALID_OVERTIME][不计入加班的最小分钟]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "TEXTBOX",
        "name" : "[INVALID_OVERTIME][不计入加班的最小分钟]",
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    } ],
    "codeName" : "invalid_overtime",
    "logicName" : "不计入加班的分钟阈值",
    "name" : "INVALID_OVERTIME",
    "stdDataType" : 9
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[START_OVERTIME][计入加班的分钟起]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "TEXTBOX",
        "name" : "[START_OVERTIME][计入加班的分钟起]",
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[START_OVERTIME][计入加班的分钟起]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBTEXT",
        "name" : "[START_OVERTIME][计入加班的分钟起]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "start_overtime",
    "logicName" : "计入加班的分钟起",
    "name" : "START_OVERTIME",
    "stdDataType" : 9
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "MobileDefault",
      "name" : "[REST_START][休息开始时间]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBDATE",
        "name" : "[REST_START][休息开始时间]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "valueFormat" : "%1$tH:%1$tM:%1$tS",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    }, {
      "codeName" : "Default",
      "name" : "[REST_START][休息开始时间]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "DATEPICKEREX_NODAY",
        "name" : "[REST_START][休息开始时间]",
        "uIMode" : "DEFAULT",
        "valueFormat" : "%1$tH:%1$tM:%1$tS"
      },
      "type" : "DEFAULT"
    } ],
    "codeName" : "rest_start",
    "logicName" : "休息开始时间",
    "name" : "REST_START",
    "stdDataType" : 5,
    "valueFormat" : "HH:mm:ss"
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "name" : "默认",
      "getPSDEFFormItem" : {
        "editorType" : "DATEPICKEREX_NODAY",
        "name" : "默认",
        "uIMode" : "DEFAULT",
        "valueFormat" : "%1$tH:%1$tM:%1$tS"
      },
      "type" : "DEFAULT"
    }, {
      "name" : "移动端默认",
      "getPSDEFFormItem" : {
        "editorType" : "MOBDATE",
        "name" : "移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "valueFormat" : "%1$tH:%1$tM:%1$tS",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "end_start",
    "logicName" : "休息结束时间",
    "name" : "END_START",
    "stdDataType" : 5,
    "valueFormat" : "HH:mm:ss"
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[ORDER_VALUE][排序值]",
      "getPSDEFFormItem" : {
        "codeName" : "Default",
        "editorType" : "TEXTBOX",
        "name" : "[ORDER_VALUE][排序值]",
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[ORDER_VALUE][排序值]移动端默认",
      "getPSDEFFormItem" : {
        "codeName" : "MobileDefault",
        "editorType" : "MOBTEXT",
        "name" : "[ORDER_VALUE][排序值]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "order_value",
    "logicName" : "排序值",
    "name" : "ORDER_VALUE",
    "stdDataType" : 9
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[NAME][班次名称]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.NAME"
        },
        "codeName" : "Default",
        "editorType" : "TEXTBOX",
        "name" : "[NAME][班次名称]",
        "stringLength" : 255,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[NAME][班次名称]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.NAME"
        },
        "codeName" : "MobileDefault",
        "editorType" : "MOBTEXT",
        "name" : "[NAME][班次名称]移动端默认",
        "stringLength" : 255,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "name",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.NAME"
    },
    "logicName" : "班次名称",
    "name" : "NAME",
    "stdDataType" : 25,
    "stringLength" : 255,
    "enableQuickSearch" : true,
    "majorField" : true
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[ID][主键]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.ID"
        },
        "codeName" : "Default",
        "editorType" : "SPAN",
        "name" : "[ID][主键]",
        "stringLength" : 60,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[ID][主键]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.ID"
        },
        "codeName" : "MobileDefault",
        "editorType" : "SPAN",
        "name" : "[ID][主键]移动端默认",
        "stringLength" : 60,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "id",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.ID"
    },
    "logicName" : "主键",
    "name" : "ID",
    "stdDataType" : 25,
    "stringLength" : 60,
    "keyField" : true
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[CREATE_DATE][创建时间]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.CREATE_DATE"
        },
        "codeName" : "Default",
        "editorType" : "SPAN",
        "name" : "[CREATE_DATE][创建时间]",
        "uIMode" : "DEFAULT",
        "valueFormat" : "%1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[CREATE_DATE][创建时间]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.CREATE_DATE"
        },
        "codeName" : "MobileDefault",
        "editorType" : "SPAN",
        "name" : "[CREATE_DATE][创建时间]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "valueFormat" : "%1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "create_date",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.CREATE_DATE"
    },
    "logicName" : "创建时间",
    "name" : "CREATE_DATE",
    "stdDataType" : 5,
    "valueFormat" : "YYYY-MM-DD HH:mm:ss"
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[WRITE_DATE][更新时间]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.WRITE_DATE"
        },
        "codeName" : "Default",
        "editorType" : "SPAN",
        "name" : "[WRITE_DATE][更新时间]",
        "uIMode" : "DEFAULT",
        "valueFormat" : "%1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[WRITE_DATE][更新时间]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.WRITE_DATE"
        },
        "codeName" : "MobileDefault",
        "editorType" : "SPAN",
        "name" : "[WRITE_DATE][更新时间]移动端默认",
        "uIMode" : "MOBILEDEFAULT",
        "valueFormat" : "%1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "write_date",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.WRITE_DATE"
    },
    "logicName" : "更新时间",
    "name" : "WRITE_DATE",
    "stdDataType" : 5,
    "valueFormat" : "YYYY-MM-DD HH:mm:ss"
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[WRITE_UID][更新人]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.WRITE_UID"
        },
        "codeName" : "Default",
        "editorType" : "SPAN",
        "name" : "[WRITE_UID][更新人]",
        "stringLength" : 100,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[WRITE_UID][更新人]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.WRITE_UID"
        },
        "codeName" : "MobileDefault",
        "editorType" : "SPAN",
        "name" : "[WRITE_UID][更新人]移动端默认",
        "stringLength" : 100,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "write_uid",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.WRITE_UID"
    },
    "logicName" : "更新人",
    "name" : "WRITE_UID",
    "stdDataType" : 25,
    "stringLength" : 100
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "Default",
      "name" : "[CREATE_UID][创建人]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.CREATE_UID"
        },
        "codeName" : "Default",
        "editorType" : "SPAN",
        "name" : "[CREATE_UID][创建人]",
        "stringLength" : 100,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    }, {
      "codeName" : "MobileDefault",
      "name" : "[CREATE_UID][创建人]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.CREATE_UID"
        },
        "codeName" : "MobileDefault",
        "editorType" : "SPAN",
        "name" : "[CREATE_UID][创建人]移动端默认",
        "stringLength" : 100,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    } ],
    "codeName" : "create_uid",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.CREATE_UID"
    },
    "logicName" : "创建人",
    "name" : "CREATE_UID",
    "stdDataType" : 25,
    "stringLength" : 100
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "MobileDefault",
      "name" : "[RULE_NAME][考勤规则名称]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.RULE_NAME"
        },
        "codeName" : "MobileDefault",
        "editorType" : "MOBPICKER",
        "name" : "[RULE_NAME][考勤规则名称]移动端默认",
        "refLinkPSDEViewCodeName" : "RedirectView",
        "refMPickupPSDEViewCodeName" : "MPickupView",
        "getRefPSDEACMode" : {
          "modelref" : true,
          "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_rule/PSDEACMODES/Default.json"
        },
        "getRefPSDataEntity" : {
          "modelref" : true,
          "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_rule.json"
        },
        "refPickupPSDEViewCodeName" : "PickupView",
        "stringLength" : 255,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    }, {
      "codeName" : "Default",
      "name" : "[RULE_NAME][考勤规则名称]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.RULE_NAME"
        },
        "codeName" : "Default",
        "editorType" : "PICKER",
        "name" : "[RULE_NAME][考勤规则名称]",
        "refLinkPSDEViewCodeName" : "RedirectView",
        "refMPickupPSDEViewCodeName" : "MPickupView",
        "getRefPSDEACMode" : {
          "modelref" : true,
          "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_rule/PSDEACMODES/Default.json"
        },
        "getRefPSDataEntity" : {
          "modelref" : true,
          "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_rule.json"
        },
        "refPickupPSDEViewCodeName" : "PickupView",
        "stringLength" : 255,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    } ],
    "codeName" : "rule_name",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.RULE_NAME"
    },
    "logicName" : "考勤规则名称",
    "name" : "RULE_NAME",
    "stdDataType" : 25,
    "stringLength" : 255
  }, {
    "getAllPSAppDEFUIModes" : [ {
      "codeName" : "MobileDefault",
      "name" : "[RULE_ID][考勤规则ID]移动端默认",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.RULE_ID"
        },
        "codeName" : "MobileDefault",
        "editorType" : "HIDDEN",
        "name" : "[RULE_ID][考勤规则ID]移动端默认",
        "getRefPSDataEntity" : {
          "modelref" : true,
          "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_rule.json"
        },
        "stringLength" : 60,
        "uIMode" : "MOBILEDEFAULT",
        "mobileMode" : true
      },
      "type" : "MOBILEDEFAULT",
      "mobileMode" : true
    }, {
      "codeName" : "Default",
      "name" : "[RULE_ID][考勤规则ID]",
      "getPSDEFFormItem" : {
        "getCapPSLanguageRes" : {
          "lanResTag" : "DEF.LNAME.SHIFT.RULE_ID"
        },
        "codeName" : "Default",
        "editorType" : "HIDDEN",
        "name" : "[RULE_ID][考勤规则ID]",
        "getRefPSDataEntity" : {
          "modelref" : true,
          "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_rule.json"
        },
        "stringLength" : 60,
        "uIMode" : "DEFAULT"
      },
      "type" : "DEFAULT"
    } ],
    "codeName" : "rule_id",
    "getLNPSLanguageRes" : {
      "lanResTag" : "DEF.LNAME.SHIFT.RULE_ID"
    },
    "logicName" : "考勤规则ID",
    "name" : "RULE_ID",
    "stdDataType" : 25,
    "stringLength" : 60
  } ],
  "getAllPSAppDELogics" : [ {
    "codeName" : "GetDefaultTemp",
    "defaultParamName" : "DEFAULT",
    "logicName" : "获取默认班次临时数据",
    "name" : "获取默认班次临时数据",
    "scriptCode" : "console.log('获取默认班次临时数据:');\r\n\r\nconst serviceUtil = ibiz.hub.getApp(context.srfappid).deService;\nconst service = await serviceUtil.getService(context, 'attendanceapp.attendance_shift');\r\n//获取默认shift\r\nconst list = service.local.getList(context);\r\nconst defaultShift = list.find(item =>item.default_flag == 1 );\r\ncontext.shift = defaultShift.id\r\nconsole.log(\"计算工时\" + defaultShift);\r\nvar _scopes = defaultShift.scopes || [];\r\nvar totalWorkingMinutes = 0;\r\n\r\nfunction timeToMinutes(timeStr) {\r\n  const parts = timeStr.split(':');\r\n  const hours = parseInt(parts[0], 10);\r\n  const minutes = parseInt(parts[1], 10);\r\n  return hours * 60 + minutes;\r\n}\r\n\r\n// 遍历现有 scope 计算总工时\r\nfor (var i = 0; i < _scopes.length; i++) {\r\n  var scope = _scopes[i];\r\n  // 转换时间为分钟数\r\n  const start = timeToMinutes(scope.start_base_time);\r\n  const end = timeToMinutes(scope.end_base_time);\r\n  \r\n  // 计算单个班次工时（分钟）\r\n  totalWorkingMinutes += (end - start);\r\n}\r\n\r\n// 转换为小时分钟格式\r\nvar hours = Math.floor(Math.abs(totalWorkingMinutes) / 60);\r\nvar minutes = totalWorkingMinutes % 60;\r\nvar workLoadText = hours + \"小时\" + minutes + \"分钟\";\r\n\r\ndefaultShift.work_load = workLoadText;\r\nreturn defaultShift;\r\n",
    "customCode" : true,
    "enableBackend" : false,
    "enableFront" : true
  }, {
    "codeName" : "UpdateByType",
    "defaultParamName" : "DEFAULT",
    "logicName" : "修改班次信息",
    "name" : "修改班次信息",
    "scriptCode" : "console.log('UpdateByType临时数据创建:');\r\n\r\nconst serviceUtil = ibiz.hub.getApp(context.srfappid).deService;\r\nconst service = await serviceUtil.getService(context, 'attendanceapp.attendance_shift');\r\nif(data.default_flag === false || data.default_flag === \"false\") {\r\n    data.default_flag = 0\r\n}\r\n\r\nif (data.default_flag === 1 && data.workday_id&& (data.schedule_type === 'fixed' || data.schedule_type === 'flexible' || data.schedule_type === 'alternate_week')) {\r\n    console.log('创建工作日班次:', data);\r\n\r\n    //获取默认shift\r\n    const list = service.local.getList(context);\r\n    const defaultShift = list.find(item =>item.default_flag == 1 );\r\n\r\n    const curScopes = data.scopes;\r\n    // 获取所有班次临时数据\r\n    const beforeScopes =defaultShift.scopes;\r\n\r\n    if (beforeScopes.length > 0 && curScopes.length > 0) {\r\n        // 与默认班次信息对比\r\n        const areScopesEqual = compareScopes(beforeScopes, curScopes);\r\n\r\n        if (!areScopesEqual) {\r\n            data.id =null;\r\n            data.default_flag = 0;\r\n            data.public_flag = 0;\r\n            curScopes.forEach(item => {\r\n                item.shift_id =null\r\n            })\r\n\r\n            //为工作日创建班次\r\n            const res = await service.exec('CreateTemp', context, data);\r\n\r\n            if (res && res.ok) {\r\n                data = res.data;\r\n                console.log('临时数据创建成功:', res);\r\n            }\r\n            const workdayService = await serviceUtil.getService(context, 'attendanceapp.attendance_workday');\r\n\r\n            const workday = await workdayService.local.get(context, data.workday_id);\r\n            console.log('workday临时数据获取成功:', workday);\r\n            workday.shift_id = data.id;\r\n            const workdayRes = await workdayService.updateTemp(context, workday)\r\n            if (workdayRes && res.workdayRes) {\r\n                console.log('workday临时数据更新成功:', workdayRes);\r\n            }\r\n        }else {\r\n            const res = await service.updateTemp(context, data)\r\n            if (res && res.ok) {\r\n                console.log('临时数据更新成功:', res);\r\n            }\r\n        }\r\n\r\n        // 班次信息对比\r\n        function compareScopes(beforeScopes, curScopes) {\r\n            if (beforeScopes.length !== curScopes.length) return false;\r\n\r\n            for (let i = 0; i < beforeScopes.length; i++ ) {\r\n                const defaultItem = beforeScopes[i];\r\n                const curItem = curScopes[i];\r\n\r\n                if (typeof defaultItem !== 'object' || typeof curItem !== 'object' ) {\r\n                    return false;\r\n                }\r\n\r\n                if (\r\n                    defaultItem.early_for_absenteeism !== curItem.early_for_absenteeism ||\r\n                    defaultItem.early_for_early !== curItem.early_for_early ||\r\n                    defaultItem.latest_checkout !== curItem.latest_checkout ||\r\n                    defaultItem.earliest_checkin !== curItem.earliest_checkin ||\r\n                    defaultItem.end_base_time !== curItem.end_base_time ||\r\n                    defaultItem.late_for_absenteeism !== curItem.late_for_absenteeism ||\r\n                    defaultItem.late_for_late !== curItem.late_for_late ||\r\n                    defaultItem.start_base_time !== curItem.start_base_time\r\n                ) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n} else {\r\n    const res = await service.exec('UpdateTemp', context, data);\r\n    if (res && res.ok) {\r\n        console.log('临时数据shift更新成功:', res);\r\n    }\r\n}",
    "customCode" : true,
    "enableBackend" : false,
    "enableFront" : true
  }, {
    "codeName" : "calcWorkLoad",
    "dEFLogicMode" : "COMPUTE",
    "defaultParamName" : "DEFAULT",
    "logicName" : "计算工时",
    "logicSubType" : "DEFIELD",
    "name" : "计算工时",
    "getPSAppDEField" : {
      "name" : "WORK_LOAD",
      "codeName" : "work_load"
    },
    "getPSDEField" : {
      "name" : "WORK_LOAD",
      "codeName" : "work_load"
    },
    "scriptCode" : "var _scopes = data.scopes || [];\nvar totalWorkingMinutes = 0;\n\nfunction timeToMinutes(timeStr) {\n  const parts = timeStr.split(':');\n  const hours = parseInt(parts[0], 10);\n  const minutes = parseInt(parts[1], 10);\n  return hours * 60 + minutes;\n}\n\n// 遍历现有 scope 计算总工时\nfor (var i = 0; i < _scopes.length; i++) {\n  var scope = _scopes[i];\n        // 转换时间段为分钟数\n        const start = timeToMinutes(scope.start_base_time);\n        const end = timeToMinutes(scope.end_base_time);\n        // 累加工时\n        if (start >= end) {\n            totalWorkingMinutes += (24 * 60 - start + end);\n        }else {\n            totalWorkingMinutes += (end - start);\n        }\n\n}\n\n// 转换为小时分钟格式\nvar hours = Math.floor(Math.abs(totalWorkingMinutes) / 60);\nvar minutes = totalWorkingMinutes % 60;\nvar workLoadText = hours + \"小时\" + minutes + \"分钟\";\n\ndata.work_load = workLoadText;",
    "customCode" : true,
    "enableBackend" : false,
    "enableFront" : true
  }, {
    "codeName" : "calcWorkTime",
    "dEFLogicMode" : "COMPUTE",
    "defaultParamName" : "DEFAULT",
    "logicName" : "计算上下班时间",
    "logicSubType" : "DEFIELD",
    "name" : "计算上下班时间",
    "getPSAppDEField" : {
      "name" : "WORK_TIME",
      "codeName" : "work_time"
    },
    "getPSDEField" : {
      "name" : "WORK_TIME",
      "codeName" : "work_time"
    },
    "scriptCode" : "if (data != null && data.scopes != null ) {\n    function timeToMinutes(timeStr) {\n        const parts = timeStr.split(':');\n        const hours = parseInt(parts[0], 10);\n        const minutes = parseInt(parts[1], 10);\n        return hours * 60 + minutes;\n    }\n    \n    var scopes = data.scopes\n    var worktimeParts = [];\n    scopes.forEach(scope => {\n        var start = scope.start_base_time.substring(0, 5);\n        const startMinutes = timeToMinutes(scope.start_base_time);\n        const endMinutes = timeToMinutes(scope.end_base_time);\n        if(scope.next_tag === \"1,0\"||scope.next_tag === \"1,1\"){\n            start = \"次日\" + start;\n        }\n        var end = scope.end_base_time.substring(0, 5);\n        if(scope.next_tag === \"0,1\"||scope.next_tag === \"1,1\" || startMinutes >= endMinutes){\n            end = \"次日\" + end;\n        }\n        worktimeParts.push(start + '-' + end);\n    })\n    data.work_time = worktimeParts.join('/');\n}",
    "customCode" : true,
    "enableBackend" : false,
    "enableFront" : true
  }, {
    "codeName" : "nothing",
    "defaultParamName" : "DEFAULT",
    "logicName" : "nothing",
    "name" : "nothing",
    "scriptCode" : "return data;",
    "customCode" : true,
    "enableBackend" : false,
    "enableFront" : true
  } ],
  "getAllPSAppDEMethodDTOs" : [ {
    "codeName" : "attendance_shift_dto",
    "name" : "attendance_shift_dto",
    "getPSAppDEMethodDTOFields" : [ {
      "codeName" : "attendance_ratio",
      "logicName" : "出勤比率",
      "name" : "attendance_ratio",
      "getPSAppDEField" : {
        "name" : "ATTENDANCE_RATIO",
        "codeName" : "attendance_ratio"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 7,
      "type" : "SIMPLE"
    }, {
      "codeName" : "working_number",
      "logicName" : "上下班次数",
      "name" : "working_number",
      "getPSAppDEField" : {
        "name" : "WORKING_NUMBER",
        "codeName" : "working_number"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "scopes",
      "logicName" : "时间范围",
      "name" : "scopes",
      "getPSAppDEField" : {
        "name" : "SCOPES",
        "codeName" : "scopes"
      },
      "getRefPSAppDEDataSet" : {
        "modelref" : true,
        "id" : "FetchDefault"
      },
      "getRefPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_scope_dto"
      },
      "getRefPSAppDataEntity" : {
        "modelref" : true,
        "path" : "PSSYSAPPS/attendanceapp/PSAPPDATAENTITIES/attendance_scope.json"
      },
      "getRefPickupPSAppDEField" : {
        "name" : "SHIFT_ID",
        "codeName" : "shift_id"
      },
      "sourceType" : "DEFIELD",
      "type" : "DTOS"
    }, {
      "codeName" : "work_load",
      "logicName" : "工时",
      "name" : "work_load",
      "getPSAppDEField" : {
        "name" : "WORK_LOAD",
        "codeName" : "work_load"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "default_flag",
      "logicName" : "默认标识",
      "name" : "default_flag",
      "getPSAppDEField" : {
        "name" : "DEFAULT_FLAG",
        "codeName" : "default_flag"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "public_flag",
      "logicName" : "公共",
      "name" : "public_flag",
      "getPSAppDEField" : {
        "name" : "PUBLIC_FLAG",
        "codeName" : "public_flag"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "work_time",
      "logicName" : "工作时间",
      "name" : "work_time",
      "getPSAppDEField" : {
        "name" : "WORK_TIME",
        "codeName" : "work_time"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "schedule_type",
      "logicName" : "班次类型",
      "name" : "schedule_type",
      "getPSAppDEField" : {
        "name" : "SCHEDULE_TYPE",
        "codeName" : "schedule_type"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "workday_id",
      "logicName" : "工作日标识",
      "name" : "workday_id",
      "getPSAppDEField" : {
        "name" : "WORKDAY_ID",
        "codeName" : "workday_id"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "overtime_valid",
      "logicName" : "加班有效",
      "name" : "overtime_valid",
      "getPSAppDEField" : {
        "name" : "OVERTIME_VALID",
        "codeName" : "overtime_valid"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "rest_enable",
      "logicName" : "休息配置启用",
      "name" : "rest_enable",
      "getPSAppDEField" : {
        "name" : "REST_ENABLE",
        "codeName" : "rest_enable"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "invalid_overtime",
      "logicName" : "不计入加班的分钟阈值",
      "name" : "invalid_overtime",
      "getPSAppDEField" : {
        "name" : "INVALID_OVERTIME",
        "codeName" : "invalid_overtime"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "start_overtime",
      "logicName" : "计入加班的分钟起",
      "name" : "start_overtime",
      "getPSAppDEField" : {
        "name" : "START_OVERTIME",
        "codeName" : "start_overtime"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "end_start",
      "jsonFormat" : "HH:mm:ss",
      "logicName" : "休息结束时间",
      "name" : "end_start",
      "getPSAppDEField" : {
        "name" : "END_START",
        "codeName" : "end_start"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 5,
      "type" : "SIMPLE"
    }, {
      "codeName" : "rest_start",
      "jsonFormat" : "HH:mm:ss",
      "logicName" : "休息开始时间",
      "name" : "rest_start",
      "getPSAppDEField" : {
        "name" : "REST_START",
        "codeName" : "rest_start"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 5,
      "type" : "SIMPLE"
    }, {
      "codeName" : "order_value",
      "logicName" : "排序值",
      "name" : "order_value",
      "getPSAppDEField" : {
        "name" : "ORDER_VALUE",
        "codeName" : "order_value"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "create_date",
      "jsonFormat" : "yyyy-MM-dd HH:mm:ss",
      "logicName" : "创建时间",
      "name" : "create_date",
      "getPSAppDEField" : {
        "name" : "CREATE_DATE",
        "codeName" : "create_date"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 5,
      "type" : "SIMPLE"
    }, {
      "codeName" : "create_uid",
      "logicName" : "创建人",
      "name" : "create_uid",
      "getPSAppDEField" : {
        "name" : "CREATE_UID",
        "codeName" : "create_uid"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "id",
      "logicName" : "主键",
      "name" : "id",
      "getPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "name",
      "logicName" : "班次名称",
      "name" : "name",
      "getPSAppDEField" : {
        "name" : "NAME",
        "codeName" : "name"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "rule_id",
      "logicName" : "考勤规则ID",
      "name" : "rule_id",
      "getPSAppDEField" : {
        "name" : "RULE_ID",
        "codeName" : "rule_id"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "rule_name",
      "logicName" : "考勤规则名称",
      "name" : "rule_name",
      "getPSAppDEField" : {
        "name" : "RULE_NAME",
        "codeName" : "rule_name"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "write_date",
      "jsonFormat" : "yyyy-MM-dd HH:mm:ss",
      "logicName" : "更新时间",
      "name" : "write_date",
      "getPSAppDEField" : {
        "name" : "WRITE_DATE",
        "codeName" : "write_date"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 5,
      "type" : "SIMPLE"
    }, {
      "codeName" : "write_uid",
      "logicName" : "更新人",
      "name" : "write_uid",
      "getPSAppDEField" : {
        "name" : "WRITE_UID",
        "codeName" : "write_uid"
      },
      "sourceType" : "DEFIELD",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    } ],
    "sourceType" : "DE",
    "type" : "DEFAULT"
  }, {
    "codeName" : "attendance_shift_filter_dto",
    "name" : "attendance_shift_filter_dto",
    "getPSAppDEMethodDTOFields" : [ {
      "codeName" : "n_default_flag_eq",
      "logicName" : "默认标识",
      "name" : "n_default_flag_eq",
      "getPSAppDEField" : {
        "name" : "DEFAULT_FLAG",
        "codeName" : "default_flag"
      },
      "sourceType" : "DEFSEARCHMODE",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "n_id_eq",
      "logicName" : "主键",
      "name" : "n_id_eq",
      "getPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "sourceType" : "DEFSEARCHMODE",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "n_name_like",
      "logicName" : "班次名称",
      "name" : "n_name_like",
      "getPSAppDEField" : {
        "name" : "NAME",
        "codeName" : "name"
      },
      "sourceType" : "DEFSEARCHMODE",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "n_public_flag_eq",
      "logicName" : "公共",
      "name" : "n_public_flag_eq",
      "getPSAppDEField" : {
        "name" : "PUBLIC_FLAG",
        "codeName" : "public_flag"
      },
      "sourceType" : "DEFSEARCHMODE",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    }, {
      "codeName" : "n_rule_id_eq",
      "logicName" : "考勤规则ID",
      "name" : "n_rule_id_eq",
      "getPSAppDEField" : {
        "name" : "RULE_ID",
        "codeName" : "rule_id"
      },
      "sourceType" : "DEFSEARCHMODE",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "n_rule_name_eq",
      "logicName" : "考勤规则名称",
      "name" : "n_rule_name_eq",
      "getPSAppDEField" : {
        "name" : "RULE_NAME",
        "codeName" : "rule_name"
      },
      "sourceType" : "DEFSEARCHMODE",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "n_rule_name_like",
      "logicName" : "考勤规则名称",
      "name" : "n_rule_name_like",
      "getPSAppDEField" : {
        "name" : "RULE_NAME",
        "codeName" : "rule_name"
      },
      "sourceType" : "DEFSEARCHMODE",
      "stdDataType" : 25,
      "type" : "SIMPLE"
    }, {
      "codeName" : "n_working_number_eq",
      "logicName" : "上下班次数",
      "name" : "n_working_number_eq",
      "getPSAppDEField" : {
        "name" : "WORKING_NUMBER",
        "codeName" : "working_number"
      },
      "sourceType" : "DEFSEARCHMODE",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    } ],
    "sourceType" : "DE",
    "type" : "DEFILTER"
  } ],
  "getAllPSAppDEMethods" : [ {
    "actionMode" : "CREATE",
    "actionType" : "BUILTIN",
    "afterCode" : "// 统一处理data为对象或数组的情况\r\nconst dataList = Array.isArray(data) ? data : [data];\r\n\r\nfor (const item of dataList) {\r\n    if (item.scopes) {\r\n        let _scopes = item.scopes.map(scope => ({\r\n            ...scope,\r\n            shift_id: item.id\r\n        }));\r\n\r\n        // 创建独立上下文（避免污染全局context）\r\n        const itemContext = {\r\n            ...context,\r\n            attendance_shift: item.id  // 覆盖当前shift\r\n        };\r\n\r\n        const serviceUtil = ibiz.hub.getApp(context.srfappid).deService;\r\n        const scopeService = await serviceUtil.getService(context, 'attendanceapp.attendance_scope');\r\n        const res = await scopeService.createTemp(itemContext,_scopes)\r\n        if(res && res.ok){\r\n            _scopes = res.data;\r\n            console.log('scope临时数据创建成功:', _scopes);\r\n        }\r\n    }\r\n}",
    "beforeCode" : "\r\n// 统一处理data为对象或数组的情况\r\nconst dataList = Array.isArray(data) ? data : [data];\r\n\r\nlet counter = 0;  \r\nfor (const item of dataList) {  \r\n    if (item.id == null) {  \r\n        item.id = Date.now() + counter++;  \r\n    }  \r\n}",
    "codeName" : "CreateTemp",
    "methodType" : "DEACTION",
    "name" : "CreateTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "CreateTempInput",
      "name" : "CreateTempInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "CreateTempResult",
      "name" : "CreateTempResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/CreateTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true
  }, {
    "actionMode" : "CREATE",
    "actionType" : "BUILTIN",
    "codeName" : "CreateTempMajor",
    "methodType" : "DEACTION",
    "name" : "CreateTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "CreateTempMajorInput",
      "name" : "CreateTempMajorInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "CreateTempMajorResult",
      "name" : "CreateTempMajorResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/CreateTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true
  }, {
    "actionMode" : "READ",
    "actionType" : "DELOGIC",
    "codeName" : "GetDefaultShift",
    "methodType" : "DEACTION",
    "name" : "GetDefaultShift",
    "getPSAppDELogic" : {
      "modelref" : true,
      "id" : "GetDefaultTemp"
    },
    "getPSAppDEMethodInput" : {
      "codeName" : "GetDefaultShiftInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "GetDefaultShiftInput",
      "type" : "KEYFIELD"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetDefaultShiftResult",
      "name" : "GetDefaultShiftResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetDefaultShift.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "builtinMethod" : false
  }, {
    "actionMode" : "GETDRAFT",
    "actionType" : "BUILTIN",
    "afterCode" : "data.attendance_ratio = 1.0;\r\ndata.name = \"班次\";\r\nvar _workNumber = data.working_number ? data.working_number : 1;\r\nvar _scopes = [];\r\n\r\n// 根据班次数量定义时间段配置\r\nvar timeConfigs = {\r\n  1: [{ start: \"08:00\", end: \"17:00\" }],\r\n  2: [\r\n    { start: \"08:00\", end: \"12:00\" },\r\n    { start: \"13:30\", end: \"17:30\" }\r\n    ],\r\n  3: [\r\n    { start: \"08:00\", end: \"12:00\" },\r\n    { start: \"13:30\", end: \"17:30\" },\r\n    { start: \"19:00\", end: \"23:00\" }\r\n    ]\r\n};\r\n\r\n// 获取当前班次数量的时间配置\r\nvar currentConfig = timeConfigs[_workNumber] || timeConfigs[1]; \r\n\r\ncurrentConfig.forEach((timeRange, index) => {\r\n  var scope = {\r\n    early_for_absenteeism: 60,\r\n    early_for_early: 0,\r\n    latest_checkout: 480,\r\n    end_base_time: timeRange.end,\r\n    start_base_time: timeRange.start,\r\n    earliest_checkin: 60,\r\n    late_for_absenteeism: 60,\r\n    late_for_late: 0,\r\n    shift_id: data.id\r\n  };\r\n  _scopes.push(scope);\r\n});\r\n\r\ndata.scopes = _scopes;",
    "codeName" : "GetDraftTemp",
    "methodType" : "DEACTION",
    "name" : "GetDraftTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "GetDraftTempInput",
      "name" : "GetDraftTempInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetDraftTempResult",
      "name" : "GetDraftTempResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetDraftTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true
  }, {
    "actionMode" : "GETDRAFT",
    "actionType" : "BUILTIN",
    "codeName" : "GetDraftTempMajor",
    "methodType" : "DEACTION",
    "name" : "GetDraftTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "GetDraftTempMajorInput",
      "name" : "GetDraftTempMajorInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetDraftTempMajorResult",
      "name" : "GetDraftTempMajorResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetDraftTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true
  }, {
    "actionMode" : "READ",
    "actionType" : "BUILTIN",
    "codeName" : "GetTemp",
    "methodType" : "DEACTION",
    "name" : "GetTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "GetTempInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "GetTempInput",
      "type" : "KEYFIELD"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetTempResult",
      "name" : "GetTempResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true
  }, {
    "actionMode" : "READ",
    "actionType" : "BUILTIN",
    "codeName" : "GetTempMajor",
    "methodType" : "DEACTION",
    "name" : "GetTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "GetTempMajorInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "GetTempMajorInput",
      "type" : "KEYFIELD"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "GetTempMajorResult",
      "name" : "GetTempMajorResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true
  }, {
    "actionMode" : "DELETE",
    "actionType" : "BUILTIN",
    "batchActionMode" : 1,
    "codeName" : "RemoveTemp",
    "methodType" : "DEACTION",
    "name" : "RemoveTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "RemoveTempInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "RemoveTempInput",
      "type" : "KEYFIELDS"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "RemoveTempResult",
      "name" : "RemoveTempResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/RemoveTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "DELETE"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true,
    "enableBatchAction" : true
  }, {
    "actionMode" : "DELETE",
    "actionType" : "BUILTIN",
    "batchActionMode" : 1,
    "codeName" : "RemoveTempMajor",
    "methodType" : "DEACTION",
    "name" : "RemoveTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "RemoveTempMajorInput",
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "RemoveTempMajorInput",
      "type" : "KEYFIELDS"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "RemoveTempMajorResult",
      "name" : "RemoveTempMajorResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/RemoveTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "DELETE"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true,
    "enableBatchAction" : true
  }, {
    "actionMode" : "UPDATE",
    "actionType" : "DELOGIC",
    "codeName" : "UpdateByType",
    "methodType" : "DEACTION",
    "name" : "UpdateByType",
    "getPSAppDELogic" : {
      "modelref" : true,
      "id" : "UpdateByType"
    },
    "getPSAppDEMethodInput" : {
      "codeName" : "UpdateByTypeInput",
      "name" : "UpdateByTypeInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "UpdateByTypeResult",
      "name" : "UpdateByTypeResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/UpdateByType.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "UPDATE"
    },
    "builtinMethod" : false
  }, {
    "actionMode" : "UPDATE",
    "actionType" : "BUILTIN",
    "afterCode" : "// 获取所有班次临时数据\r\nconsole.log(\"更新scope\")\r\nconst serviceUtil = ibiz.hub.getApp(context.srfappid).deService;\nconst service = await serviceUtil.getService(context, 'attendanceapp.attendance_scope');\r\nconst list = service.local.getList(context);\r\n\r\nconst beforeScopes = list.filter(item => item.shift_id === data.id);\r\nbeforeScopes.forEach(item => {\r\n    service.local.delete(context, item.id);\r\n})\r\n\r\nlet _scopes = data.scopes.map(scope => ({\r\n    ...scope,\r\n    shift_id: data.id\r\n}));\r\n\r\nconst res = await service.exec('CreateTemp', context,_scopes);\r\nif(res && res.ok){\r\n    console.log('scope临时数据创建成功:', _scopes);\r\n}\r\n\r\n\r\n\r\n",
    "codeName" : "UpdateTemp",
    "methodType" : "DEACTION",
    "name" : "UpdateTemp",
    "getPSAppDEMethodInput" : {
      "codeName" : "UpdateTempInput",
      "name" : "UpdateTempInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "UpdateTempResult",
      "name" : "UpdateTempResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/UpdateTemp.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "UPDATE"
    },
    "tempDataMode" : 2,
    "builtinMethod" : true
  }, {
    "actionMode" : "UPDATE",
    "actionType" : "BUILTIN",
    "codeName" : "UpdateTempMajor",
    "methodType" : "DEACTION",
    "name" : "UpdateTempMajor",
    "getPSAppDEMethodInput" : {
      "codeName" : "UpdateTempMajorInput",
      "name" : "UpdateTempMajorInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "UpdateTempMajorResult",
      "name" : "UpdateTempMajorResult",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/UpdateTempMajor.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "UPDATE"
    },
    "tempDataMode" : 1,
    "builtinMethod" : true
  }, {
    "actionMode" : "CHECKKEY",
    "actionTag" : "CheckKey",
    "codeName" : "check_key",
    "methodType" : "DEACTION",
    "name" : "CheckKey",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "stdDataType" : 9,
      "type" : "SIMPLE"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/CheckKey.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "check_key"
    },
    "requestMethod" : "POST",
    "requestParamType" : "ENTITY",
    "requestPath" : "/check_key",
    "builtinMethod" : false
  }, {
    "actionMode" : "CREATE",
    "actionTag" : "Create",
    "codeName" : "create",
    "methodType" : "DEACTION",
    "name" : "Create",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Create.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "Create"
    },
    "requestMethod" : "POST",
    "requestParamType" : "ENTITY",
    "builtinMethod" : false,
    "noServiceCodeName" : true
  }, {
    "actionMode" : "READ",
    "actionTag" : "Get",
    "codeName" : "get",
    "methodType" : "DEACTION",
    "name" : "Get",
    "getPSAppDEMethodInput" : {
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "输入对象",
      "type" : "KEYFIELD"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Get.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "Get"
    },
    "requestField" : "ID",
    "requestMethod" : "GET",
    "requestParamType" : "FIELD",
    "builtinMethod" : false,
    "needResourceKey" : true,
    "noServiceCodeName" : true
  }, {
    "actionMode" : "GETDRAFT",
    "actionTag" : "GetDraft",
    "codeName" : "get_draft",
    "methodType" : "DEACTION",
    "name" : "GetDraft",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/GetDraft.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "get_draft"
    },
    "requestMethod" : "GET",
    "requestParamType" : "NONE",
    "requestPath" : "/get_draft",
    "builtinMethod" : false
  }, {
    "actionMode" : "DELETE",
    "actionTag" : "Remove",
    "batchActionMode" : 1,
    "codeName" : "remove",
    "methodType" : "DEACTION",
    "name" : "Remove",
    "getPSAppDEMethodInput" : {
      "getKeyPSAppDEField" : {
        "name" : "ID",
        "codeName" : "id"
      },
      "name" : "输入对象",
      "type" : "KEYFIELDS"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "type" : "VOID"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Remove.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "DELETE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "Remove"
    },
    "requestField" : "ID",
    "requestMethod" : "DELETE",
    "requestParamType" : "FIELD",
    "builtinMethod" : false,
    "enableBatchAction" : true,
    "needResourceKey" : true,
    "noServiceCodeName" : true
  }, {
    "actionMode" : "SAVE",
    "actionTag" : "Save",
    "codeName" : "save",
    "methodType" : "DEACTION",
    "name" : "Save",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Save.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "CREATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "save"
    },
    "requestMethod" : "POST",
    "requestParamType" : "ENTITY",
    "requestPath" : "/save",
    "builtinMethod" : false
  }, {
    "actionMode" : "UPDATE",
    "actionTag" : "Update",
    "codeName" : "update",
    "methodType" : "DEACTION",
    "name" : "Update",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO",
      "output" : true
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "DTO"
    },
    "getPSDEAction" : {
      "modelref" : true,
      "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift/PSDEACTIONS/Update.json"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "UPDATE"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "Update"
    },
    "requestMethod" : "PUT",
    "requestParamType" : "ENTITY",
    "builtinMethod" : false,
    "needResourceKey" : true,
    "noServiceCodeName" : true
  }, {
    "codeName" : "fetch_default",
    "dataSetName" : "DEFAULT",
    "dataSetTag" : "Default",
    "methodType" : "FETCH",
    "name" : "fetch_default",
    "getPSAppDEMethodInput" : {
      "name" : "输入对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_filter_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "name" : "返回对象",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "PAGE"
    },
    "getPSDEDataSet" : {
      "modelref" : true,
      "id" : "Default"
    },
    "getPSDEOPPriv" : {
      "modelref" : true,
      "id" : "READ"
    },
    "getPSDEServiceAPIMethod" : {
      "modelref" : true,
      "id" : "fetch_default"
    },
    "requestMethod" : "POST",
    "requestParamType" : "ENTITY",
    "requestPath" : "/fetch_default",
    "builtinMethod" : false
  }, {
    "codeName" : "FetchTempDefault",
    "dataSetTag" : "Default",
    "dataSetType" : "DATAQUERY",
    "methodType" : "FETCHTEMP",
    "name" : "DEFAULT",
    "getPSAppDEMethodInput" : {
      "codeName" : "DefaultInput",
      "name" : "DefaultInput",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_filter_dto"
      },
      "type" : "DTO"
    },
    "getPSAppDEMethodReturn" : {
      "codeName" : "DefaultResult",
      "name" : "DefaultResult",
      "getPSAppDEMethodDTO" : {
        "modelref" : true,
        "id" : "attendance_shift_dto"
      },
      "type" : "PAGE"
    },
    "getPSDEDataSet" : {
      "modelref" : true,
      "id" : "Default"
    },
    "tempDataMode" : 2,
    "builtinMethod" : false
  }, {
    "codeName" : "FilterCreate",
    "methodType" : "FILTERACTION",
    "name" : "FILTERCREATE",
    "builtinMethod" : true
  }, {
    "codeName" : "FilterFetch",
    "methodType" : "FILTERACTION",
    "name" : "FILTERFETCH",
    "builtinMethod" : true
  }, {
    "codeName" : "FilterGet",
    "methodType" : "FILTERACTION",
    "name" : "FILTERGET",
    "builtinMethod" : true
  }, {
    "codeName" : "FilterGetDraft",
    "methodType" : "FILTERACTION",
    "name" : "FILTERGETDRAFT",
    "builtinMethod" : true
  }, {
    "codeName" : "FilterRemove",
    "methodType" : "FILTERACTION",
    "name" : "FILTERREMOVE",
    "builtinMethod" : true
  }, {
    "codeName" : "FilterSearch",
    "methodType" : "FILTERACTION",
    "name" : "FILTERSEARCH",
    "builtinMethod" : true
  }, {
    "codeName" : "FilterUpdate",
    "methodType" : "FILTERACTION",
    "name" : "FILTERUPDATE",
    "builtinMethod" : true
  } ],
  "getAllPSAppDEUIActions" : [ {
    "actionTarget" : "SINGLEDATA",
    "caption" : "修改班次时间",
    "codeName" : "editScope",
    "getFrontPSAppView" : {
      "modelref" : true,
      "path" : "PSSYSAPPS/attendanceapp/PSAPPDEVIEWS/attendance_shift_default_shift_view.json",
      "viewType" : "DEOPTVIEW"
    },
    "frontProcessType" : "WIZARD",
    "fullCodeName" : "attendance_shift_editScope",
    "name" : "修改班次时间",
    "getPSAppDataEntity" : {
      "modelref" : true,
      "path" : "PSSYSAPPS/attendanceapp/PSAPPDATAENTITIES/attendance_shift.json"
    },
    "getPSNavigateContexts" : [ {
      "key" : "SCHEDULE_TYPE",
      "name" : "SCHEDULE_TYPE",
      "value" : "schedule_type",
      "rawValue" : false
    } ],
    "refreshMode" : 1,
    "uIActionMode" : "FRONT",
    "uIActionTag" : "editScope",
    "uIActionType" : "DEUIACTION",
    "reloadData" : true,
    "id" : "editScope@attendance_shift"
  } ],
  "getAllPSAppViews" : [ {
    "modelref" : true,
    "path" : "PSSYSAPPS/attendanceapp/PSAPPDEVIEWS/attendance_shift_default_shift_view.json",
    "viewType" : "DEOPTVIEW"
  }, {
    "modelref" : true,
    "path" : "PSSYSAPPS/attendanceapp/PSAPPDEVIEWS/attendance_shift_edit_view.json",
    "viewType" : "DEEDITVIEW"
  }, {
    "modelref" : true,
    "path" : "PSSYSAPPS/attendanceapp/PSAPPDEVIEWS/attendance_shift_free_edit_view.json",
    "viewType" : "DEEDITVIEW"
  }, {
    "modelref" : true,
    "path" : "PSSYSAPPS/attendanceapp/PSAPPDEVIEWS/attendance_shift_inversion_grid_view.json",
    "viewType" : "DEGRIDVIEW"
  }, {
    "modelref" : true,
    "path" : "PSSYSAPPS/attendanceapp/PSAPPDEVIEWS/attendance_shift_quick_create_view.json",
    "viewType" : "DEOPTVIEW"
  }, {
    "modelref" : true,
    "path" : "PSSYSAPPS/attendanceapp/PSAPPDEVIEWS/attendance_shift_grid_view.json",
    "viewType" : "DEGRIDVIEW"
  } ],
  "getAllPSDEOPPrivs" : [ {
    "logicName" : "建立",
    "name" : "CREATE"
  }, {
    "logicName" : "删除",
    "name" : "DELETE"
  }, {
    "logicName" : "读取",
    "name" : "READ"
  }, {
    "logicName" : "更新",
    "name" : "UPDATE"
  } ],
  "codeName" : "attendance_shift",
  "dEAPICodeName" : "attendance_shift",
  "dEAPICodeName2" : "attendance_shifts",
  "dEAPITag" : "ATTENDANCE_SHIFT",
  "dataAccCtrlArch" : 1,
  "dataAccCtrlMode" : 1,
  "dynaModelFilePath" : "PSSYSAPPS/attendanceapp/PSAPPDATAENTITIES/attendance_shift.json",
  "enableUIActions" : 15,
  "getKeyPSAppDEField" : {
    "name" : "ID",
    "codeName" : "id"
  },
  "logicName" : "班次",
  "getMajorPSAppDEField" : {
    "name" : "NAME",
    "codeName" : "name"
  },
  "getMinorPSAppDERSs" : [ {
    "actionRSMode" : 1,
    "codeName" : "shifts",
    "dataRSMode" : 0,
    "majorDECodeName" : "attendance_rule",
    "majorDEName" : "ATTENDANCE_RULE",
    "getMajorPSAppDataEntity" : {
      "modelref" : true,
      "path" : "PSSYSAPPS/attendanceapp/PSAPPDATAENTITIES/attendance_rule.json"
    },
    "minorDECodeName" : "attendance_shift",
    "minorDEName" : "ATTENDANCE_SHIFT",
    "getMinorPSAppDataEntity" : {
      "modelref" : true,
      "path" : "PSSYSAPPS/attendanceapp/PSAPPDATAENTITIES/attendance_shift.json"
    },
    "name" : "规则-班次",
    "getParentPSAppDEField" : {
      "name" : "RULE_ID",
      "codeName" : "rule_id"
    },
    "getParentTextPSAppDEField" : {
      "name" : "RULE_NAME",
      "codeName" : "rule_name"
    },
    "rSMode" : 2,
    "tempDataOrder" : 10
  } ],
  "name" : "ATTENDANCE_SHIFT",
  "getPSDEName" : "ATTENDANCE_SHIFT",
  "getPSDEServiceAPI" : {
    "modelref" : true,
    "id" : "attendance_shift"
  },
  "getPSDataEntity" : {
    "modelref" : true,
    "path" : "PSMODULES/attendance/PSDATAENTITIES/attendance_shift.json"
  },
  "getPSSysServiceAPI" : {
    "modelref" : true,
    "path" : "PSSYSSERVICEAPIS/ServiceAPI.json"
  },
  "getQuickSearchPSAppDEFields" : [ {
    "name" : "NAME",
    "codeName" : "name"
  } ],
  "storageMode" : 0,
  "sysAPITag" : "ServiceAPI",
  "defaultMode" : true,
  "enableFilterActions" : true,
  "enableTempData" : true,
  "enableUICreate" : true,
  "enableUIModify" : true,
  "enableUIRemove" : true,
  "enableWFActions" : false,
  "major" : true,
  "getAllPSAppDEUIActionGroups" : [ {
    "codeName" : "A58e512f11c9cdc6d78",
    "name" : "修改班次时间",
    "getPSAppDataEntity" : {
      "modelref" : true,
      "path" : "PSSYSAPPS/attendanceapp/PSAPPDATAENTITIES/attendance_shift.json"
    },
    "uniqueTag" : "attendance_shift__A58e512f11c9cdc6d78",
    "getPSUIActionGroupDetails" : [ {
      "caption" : "修改班次时间",
      "detailType" : "DEUIACTION",
      "name" : "u7dbdfa3",
      "addSeparator" : false,
      "showCaption" : true,
      "showIcon" : true,
      "getPSUIAction" : {
        "getPSAppDataEntity" : {
          "modelref" : true,
          "path" : "PSSYSAPPS/attendanceapp/PSAPPDATAENTITIES/attendance_shift.json"
        },
        "modelref" : true,
        "id" : "editScope@attendance_shift"
      }
    } ]
  } ]
}