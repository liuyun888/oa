package cn.ibizlab.attendance.logic.attendance_rulelogic.activerule;
        import java.util.Map;
        import java.util.HashMap;
        import com.alibaba.fastjson.JSONObject;
        import org.springframework.util.StringUtils;
        import org.springframework.util.ObjectUtils;
        import cn.ibizlab.util.errors.BadRequestAlertException;
                global cn.ibizlab.core.attendance.domain.attendance_rule attendance_ruleactiveruledefault;
                global cn.ibizlab.core.attendance.domain.attendance_schedule attendance_ruleactiverulecurruleschedules;
                global cn.ibizlab.core.attendance.domain.attendance_activate_rule attendance_ruleactiveruleactiverule;
                global cn.ibizlab.core.attendance.domain.attendance_activate_shift attendance_ruleactiveruleactiveshift;
                global cn.ibizlab.core.attendance.domain.attendance_activate_shift attendance_ruleactiveruleactiveshifts;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift_member attendance_ruleactiverulealldeptemp;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift_member attendance_ruleactiveruleallmembers;
                global cn.ibizlab.core.resource.domain.resource_calendar_leaves attendance_ruleactiverulecalendarfilter;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift_member attendance_ruleactiverulechangemembers;
                global cn.ibizlab.core.attendance.domain.attendance_activate_rule attendance_ruleactiverulechangerule;
                global cn.ibizlab.core.attendance.domain.attendance_activate_rule attendance_ruleactiverulechanges;
                global java.util.Map attendance_ruleactiverulecuractivemember;
                global cn.ibizlab.core.resource.domain.resource_calendar_leaves attendance_ruleactiverulecurrldata;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift_member attendance_ruleactiveruledepttemp;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift_member attendance_ruleactiveruledepts;
                global java.util.Map attendance_ruleactiveruleeffect_time;
                global cn.ibizlab.core.employee_management.domain.employee attendance_ruleactiveruleempfilter;
                global cn.ibizlab.core.employee_management.domain.employee attendance_ruleactiveruleemployees;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift_member attendance_ruleactiverulegroup_members;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift attendance_ruleactiverulegroup_shift;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift attendance_ruleactiverulegroup_shifts;
                global cn.ibizlab.core.resource.domain.resource_calendar_leaves attendance_ruleactiveruleholidays;
                global cn.ibizlab.core.resource.domain.resource_calendar_leaves attendance_ruleactiverulelastrldata;
                global cn.ibizlab.core.attendance.domain.attendance_schedule attendance_ruleactiverulelastschedules;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift_member attendance_ruleactiverulemembertemp;
                global cn.ibizlab.core.attendance.domain.attendance_group_shift_member attendance_ruleactiverulemembers;
                global cn.ibizlab.core.attendance.domain.attendance_schedule attendance_ruleactiverulenewschedules;
                global cn.ibizlab.core.attendance.domain.attendance_rule attendance_ruleactiveruleret;
                global java.util.Map attendance_ruleactiveruleschedulefilter;
                global cn.ibizlab.core.attendance.domain.attendance_schedule attendance_ruleactiverulescheduletemp;
                global cn.ibizlab.core.attendance.domain.attendance_schedule attendance_ruleactiverulescheduletemps;
                global cn.ibizlab.core.attendance.domain.attendance_shift attendance_ruleactiveruleshifts;
                global java.util.Map attendance_ruleactiverulesrfactionparam;
                global java.util.Map attendance_ruleactiveruletemp;
                global cn.ibizlab.core.attendance.domain.attendance_activate_rule attendance_ruleactiveruletemprule;
                    global cn.ibizlab.core.attendance.service.Iattendance_activate_shiftService attendance_activate_shiftservice;
                    global cn.ibizlab.core.resource.service.Iresource_calendar_leavesService resource_calendar_leavesservice;
                    global cn.ibizlab.core.attendance.service.Iattendance_activate_ruleService attendance_activate_ruleservice;
                    global cn.ibizlab.core.employee_management.service.IemployeeService employeeservice;
                    global cn.ibizlab.core.attendance.service.Iattendance_scheduleService attendance_scheduleservice;
                    global cn.ibizlab.core.attendance.service.Iattendance_ruleService attendance_ruleservice;
        global cn.ibizlab.core.attendance.service.Iattendance_ruleService iBzSysAttendance_ruleDefaultService;
        global cn.ibizlab.util.security.AuthenticationUser curuser;


    no-loop

            //逻辑处理节点[开始]
            rule "begin"
            ruleflow-group "attendance_ruleactiverulebegin"
            when
            then
            end

            //逻辑处理节点[删除当前旧激活班次]
            rule "rawsqlcall8"
            ruleflow-group "attendance_ruleactiverulerawsqlcall8"
            when
            then
    Map param =new HashMap();
        param.put("param0",attendance_ruleactiveruleactiverule.get("id"));
    String strSql="DELETE FROM attendance_activate_shift WHERE rule_id = #{et.param0}";
                        iBzSysAttendance_ruleDefaultService.execute(strSql,param);//SQL调用
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[删除当前规则旧排班]
            rule "rawsqlcall_01"
            ruleflow-group "attendance_ruleactiverulerawsqlcall_01"
            when
            then
    Map param =new HashMap();
        param.put("param0",attendance_ruleactiveruledefault.get("id"));
        param.put("param1",attendance_ruleactiveruledefault.get("effecttime"));
    String strSql="DELETE FROM attendance_schedule WHERE rule_id = #{et.param0} AND checkin_date >= #{et.param1}";
                        iBzSysAttendance_ruleDefaultService.execute(strSql,param);//SQL调用
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[删除当前规则区间旧排班]
            rule "rawsqlcall_06"
            ruleflow-group "attendance_ruleactiverulerawsqlcall_06"
            when
            then
    Map param =new HashMap();
        param.put("param0",attendance_ruleactiveruledefault.get("id"));
        param.put("param1",attendance_ruleactiveruledefault.get("limittime"));
    String strSql="DELETE FROM attendance_schedule WHERE rule_id = #{et.param0} AND checkin_date >= #{et.param1}";
                        iBzSysAttendance_ruleDefaultService.execute(strSql,param);//SQL调用
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[重新建立参数]
            rule "renewparam_01"
            ruleflow-group "attendance_ruleactiverulerenewparam_01"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[遍历班次]
            rule "loopsubcall_01"
            ruleflow-group "attendance_ruleactiveruleloopsubcall_01"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[衔接]
            rule "prepareparam9"
            ruleflow-group "attendance_ruleactiveruleprepareparam9"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[激活班次]
            rule "deaction_03"
            ruleflow-group "attendance_ruleactiveruledeaction_03"
            when
            then
                        attendance_activate_shiftservice.save(attendance_ruleactiveruleactiveshifts);
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[准备参数]
            rule "prepareparam_03"
            ruleflow-group "attendance_ruleactiveruleprepareparam_03"
            when
            then
                            attendance_ruleactiveruleactiveshift.set("shiftdata",attendance_ruleactiveruletemp.get(""));
                            attendance_ruleactiveruleactiveshift.set("ruleid",attendance_ruleactiveruletemp.get("rule_id"));
                            attendance_ruleactiveruleactiveshift.set("id",attendance_ruleactiveruletemp.get("id"));
                            attendance_ruleactiveruleactiveshift.set("name",attendance_ruleactiveruletemp.get("name"));
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[设置日历参数]
            rule "rawsfcode_013"
            ruleflow-group "attendance_ruleactiverulerawsfcode_013"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[重新建立参数]
            rule "prepareparam_05"
            ruleflow-group "attendance_ruleactiveruleprepareparam_05"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[附加到数组参数]
            rule "appendparam_01"
            ruleflow-group "attendance_ruleactiveruleappendparam_01"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[计算工时]
            rule "rawsfcode_03"
            ruleflow-group "attendance_ruleactiverulerawsfcode_03"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[准备参数]
            rule "prepareparam_07"
            ruleflow-group "attendance_ruleactiveruleprepareparam_07"
            when
            then
                            attendance_ruleactiverulecalendarfilter.set("n_date_from_ltandeq",attendance_ruleactiveruledefault.get("n_date_from_ltandeq"));
                            attendance_ruleactiverulecalendarfilter.set("n_date_to_gtandeq",attendance_ruleactiveruledefault.get("n_date_to_gtandeq"));
                            attendance_ruleactiverulecalendarfilter.set("size","1000");
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[绑定参数]
            rule "bindparam_01"
            ruleflow-group "attendance_ruleactiverulebindparam_01"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[获取节假日配置]
            rule "dedataset_03"
            ruleflow-group "attendance_ruleactiverulededataset_03"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[构造节假日]
            rule "rawsfcode_018"
            ruleflow-group "attendance_ruleactiverulerawsfcode_018"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[调试逻辑参数]
            rule "debugparam_05"
            ruleflow-group "attendance_ruleactiveruledebugparam_05"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[生效日期转换]
            rule "rawsfcode_017"
            ruleflow-group "attendance_ruleactiverulerawsfcode_017"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[n班倒构造新排班]
            rule "rawsfcode_011"
            ruleflow-group "attendance_ruleactiverulerawsfcode_011"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[n班倒构造新排班]
            rule "rawsfcode_010"
            ruleflow-group "attendance_ruleactiverulerawsfcode_010"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[大小周构造新排班]
            rule "rawsfcode_08"
            ruleflow-group "attendance_ruleactiverulerawsfcode_08"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[自由班构造新排班]
            rule "rawsfcode_01"
            ruleflow-group "attendance_ruleactiverulerawsfcode_01"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[循环子调用]
            rule "loopsubcall_02"
            ruleflow-group "attendance_ruleactiveruleloopsubcall_02"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[准备参数]
            rule "prepareparam_04"
            ruleflow-group "attendance_ruleactiveruleprepareparam_04"
            when
            then
                            attendance_ruleactiverulegroup_shift.set("",attendance_ruleactiverulegroup_shifts.get("0"));
                            attendance_ruleactiveruleempfilter.set("size","9999");
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[激活规则]
            rule "deaction_02"
            ruleflow-group "attendance_ruleactiveruledeaction_02"
            when
            then
                        attendance_activate_ruleservice.save(attendance_ruleactiveruleactiverule);
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[删除人员旧排班]
            rule "rawsqlcall_07"
            ruleflow-group "attendance_ruleactiverulerawsqlcall_07"
            when
            then
    Map param =new HashMap();
        param.put("param0",attendance_ruleactiveruledefault.get("limittime"));
        param.put("param1",attendance_ruleactiverulemembertemp.get("userid"));
    String strSql="DELETE FROM attendance_schedule WHERE  checkin_date >= #{et.param0} AND member_id = #{et.param1}";
                        iBzSysAttendance_ruleDefaultService.execute(strSql,param);//SQL调用
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[结束]
            rule "end_01"
            ruleflow-group "attendance_ruleactiveruleend_01"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[准备参数]
            rule "prepareparam_02"
            ruleflow-group "attendance_ruleactiveruleprepareparam_02"
            when
            then
                            attendance_ruleactiveruleactiverule.set("ruledata",attendance_ruleactiveruledefault.get(""));
                            attendance_ruleactiveruleactiverule.set("id",attendance_ruleactiveruledefault.get("id"));
                            attendance_ruleactiveruleactiverule.set("name",attendance_ruleactiveruledefault.get("name"));
                            attendance_ruleactiveruleshifts.set("",attendance_ruleactiveruledefault.get("shifts"));
                            attendance_ruleactiveruleactiverule.set("scheduletype",attendance_ruleactiveruledefault.get("scheduletype"));
                            attendance_ruleactiverulegroup_shifts.set("",attendance_ruleactiveruledefault.get("group_shifts"));
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[循环子调用]
            rule "loopsubcall_03"
            ruleflow-group "attendance_ruleactiveruleloopsubcall_03"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[免考勤]
            rule "rawsfcode_016"
            ruleflow-group "attendance_ruleactiverulerawsfcode_016"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[上a休b构造新排班]
            rule "rawsfcode_05"
            ruleflow-group "attendance_ruleactiverulerawsfcode_05"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[固定排班/灵活打卡构造新排班]
            rule "rawsfcode_02"
            ruleflow-group "attendance_ruleactiverulerawsfcode_02"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[手动排班构造新排班]
            rule "rawsfcode_06"
            ruleflow-group "attendance_ruleactiverulerawsfcode_06"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[计算规则成员]
            rule "rawsfcode_04"
            ruleflow-group "attendance_ruleactiverulerawsfcode_04"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[判断节假日]
            rule "rawsfcode_014"
            ruleflow-group "attendance_ruleactiverulerawsfcode_014"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[判断节假日]
            rule "rawsfcode_015"
            ruleflow-group "attendance_ruleactiverulerawsfcode_015"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[查询当前生效规则成员]
            rule "rawsqlcall_05"
            ruleflow-group "attendance_ruleactiverulerawsqlcall_05"
            when
            then
    Map param =new HashMap();
        param.put("param0",attendance_ruleactiveruledefault.get("id"));
    String strSql="select MEMBER_ID,MEMBER_NAME,RULE_ID FROM attendance_schedule s WHERE  rule_id != #{et.param0} and checkin_date >= CURDATE()  AND EXISTS (     SELECT 1      FROM attendance_activate_rule rule       WHERE        rule.id = s.rule_id    ) 	GROUP BY s.MEMBER_ID";
                        java.util.List<JSONObject> entities=iBzSysAttendance_ruleDefaultService.select(strSql,param);//SQL调用
                            if(entities.size()>0){
                            JSONObject entity=entities.get(0);
                                attendance_ruleactiverulecuractivemember.putAll(entity);
                            }
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[准备参数]
            rule "prepareparam_01"
            ruleflow-group "attendance_ruleactiveruleprepareparam_01"
            when
            then
                            attendance_ruleactiveruleempfilter.set("n_dept_id_eq",attendance_ruleactiveruledepttemp.get("userid"));
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[查询部门下所有人员]
            rule "dedataset_01"
            ruleflow-group "attendance_ruleactiverulededataset_01"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[过滤出不在其他生效规则内的人员]
            rule "rawsfcode_09"
            ruleflow-group "attendance_ruleactiverulerawsfcode_09"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[将该部门在其他生效规则内移除]
            rule "rawsqlcall_04"
            ruleflow-group "attendance_ruleactiverulerawsqlcall_04"
            when
            then
    Map param =new HashMap();
        param.put("param0",attendance_ruleactiveruledepttemp.get("userid"));
        param.put("param1",attendance_ruleactiveruledefault.get("id"));
    String strSql="DELETE FROM attendance_group_shift_member WHERE  user_id = #{et.param0} and  rule_id != #{et.param1}  AND EXISTS (     SELECT 1      FROM attendance_rule rule       WHERE        rule.id = attendance_group_shift_member.rule_id        AND rule.IS_ACTIVATE  = 1   )";
                        iBzSysAttendance_ruleDefaultService.execute(strSql,param);//SQL调用
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[准备参数]
            rule "prepareparam_08"
            ruleflow-group "attendance_ruleactiveruleprepareparam_08"
            when
            then
                            attendance_ruleactiveruledefault.set("members",attendance_ruleactiverulemembers.get(""));
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[生成后的新排班]
            rule "debugparam_01"
            ruleflow-group "attendance_ruleactiveruledebugparam_01"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[获取所有人员]
            rule "dedataset_02"
            ruleflow-group "attendance_ruleactiverulededataset_02"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[遍历规则人员]
            rule "loopsubcall_04"
            ruleflow-group "attendance_ruleactiveruleloopsubcall_04"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[为规则人员生成新排班]
            rule "rawsfcode_07"
            ruleflow-group "attendance_ruleactiverulerawsfcode_07"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[保存排班]
            rule "deaction_04"
            ruleflow-group "attendance_ruleactiveruledeaction_04"
            when
            then
                        attendance_scheduleservice.create(attendance_ruleactiverulelastschedules);
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[重置参数]
            rule "resetparam_01"
            ruleflow-group "attendance_ruleactiveruleresetparam_01"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[人员转换]
            rule "rawsfcode_012"
            ruleflow-group "attendance_ruleactiverulerawsfcode_012"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[准备参数]
            rule "prepareparam_06"
            ruleflow-group "attendance_ruleactiveruleprepareparam_06"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[查找需更新的activerule]
            rule "rawsfcode18"
            ruleflow-group "attendance_ruleactiverulerawsfcode18"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[遍历需需更新规则]
            rule "loopsubcall5"
            ruleflow-group "attendance_ruleactiveruleloopsubcall5"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[删除人员旧排班]
            rule "rawsqlcall_02"
            ruleflow-group "attendance_ruleactiverulerawsqlcall_02"
            when
            then
    Map param =new HashMap();
        param.put("param0",attendance_ruleactiveruledefault.get("effecttime"));
        param.put("param1",attendance_ruleactiverulemembertemp.get("userid"));
    String strSql="DELETE FROM attendance_schedule WHERE  checkin_date >= #{et.param0} AND member_id = #{et.param1}";
                        java.util.List<JSONObject> entities=iBzSysAttendance_ruleDefaultService.select(strSql,param);//SQL调用
                            if(entities.size()>0){
                            JSONObject entity=entities.get(0);
                                    for (Map.Entry entry : entity.entrySet()) {
                                    attendance_ruleactiverulemembers.set(String.valueOf(entry.getKey()),entry.getValue());
                                    }
                            }
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[准备参数]
            rule "prepareparam7"
            ruleflow-group "attendance_ruleactiveruleprepareparam7"
            when
            then
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[将该人员在其他生效规则内移除]
            rule "rawsqlcall_03"
            ruleflow-group "attendance_ruleactiverulerawsqlcall_03"
            when
            then
    Map param =new HashMap();
        param.put("param0",attendance_ruleactiverulemembertemp.get("userid"));
        param.put("param1",attendance_ruleactiveruledefault.get("id"));
    String strSql="DELETE FROM attendance_group_shift_member WHERE  user_id = #{et.param0} and  rule_id != #{et.param1}  AND EXISTS (     SELECT 1      FROM attendance_rule rule       WHERE        rule.id = attendance_group_shift_member.rule_id        AND rule.IS_ACTIVATE  = 1   )";
                        iBzSysAttendance_ruleDefaultService.execute(strSql,param);//SQL调用
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[实体行为]
            rule "deaction4"
            ruleflow-group "attendance_ruleactiveruledeaction4"
            when
            then
                            cn.ibizlab.util.helper.CachedBeanCopier.copy(attendance_ruleservice.get(attendance_ruleactiveruletemprule.getId()),attendance_ruleactiveruletemprule);
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[准备参数]
            rule "prepareparam8"
            ruleflow-group "attendance_ruleactiveruleprepareparam8"
            when
            then
                            attendance_ruleactiverulechangerule.set("ruledata",attendance_ruleactiveruleret.get(""));
                            attendance_ruleactiverulechangerule.set("id",attendance_ruleactiveruleret.get("id"));
                            attendance_ruleactiverulechangerule.set("name",attendance_ruleactiveruleret.get("name"));
                            attendance_ruleactiverulechangerule.set("scheduletype",attendance_ruleactiveruleret.get("scheduletype"));
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end

            //逻辑处理节点[更新rule_data]
            rule "deaction5"
            ruleflow-group "attendance_ruleactiveruledeaction5"
            when
            then
                        attendance_activate_ruleservice.save(attendance_ruleactiverulechangerule);
                        update(attendance_ruleactiveruledefault);//更新fact中变量值
                        update(attendance_ruleactiverulecurruleschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleactiverule);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshift);//更新fact中变量值
                        update(attendance_ruleactiveruleactiveshifts);//更新fact中变量值
                        update(attendance_ruleactiverulealldeptemp);//更新fact中变量值
                        update(attendance_ruleactiveruleallmembers);//更新fact中变量值
                        update(attendance_ruleactiverulecalendarfilter);//更新fact中变量值
                        update(attendance_ruleactiverulechangemembers);//更新fact中变量值
                        update(attendance_ruleactiverulechangerule);//更新fact中变量值
                        update(attendance_ruleactiverulechanges);//更新fact中变量值
                        update(attendance_ruleactiverulecuractivemember);//更新fact中变量值
                        update(attendance_ruleactiverulecurrldata);//更新fact中变量值
                        update(attendance_ruleactiveruledepttemp);//更新fact中变量值
                        update(attendance_ruleactiveruledepts);//更新fact中变量值
                        update(attendance_ruleactiveruleeffect_time);//更新fact中变量值
                        update(attendance_ruleactiveruleempfilter);//更新fact中变量值
                        update(attendance_ruleactiveruleemployees);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_members);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shift);//更新fact中变量值
                        update(attendance_ruleactiverulegroup_shifts);//更新fact中变量值
                        update(attendance_ruleactiveruleholidays);//更新fact中变量值
                        update(attendance_ruleactiverulelastrldata);//更新fact中变量值
                        update(attendance_ruleactiverulelastschedules);//更新fact中变量值
                        update(attendance_ruleactiverulemembertemp);//更新fact中变量值
                        update(attendance_ruleactiverulemembers);//更新fact中变量值
                        update(attendance_ruleactiverulenewschedules);//更新fact中变量值
                        update(attendance_ruleactiveruleret);//更新fact中变量值
                        update(attendance_ruleactiveruleschedulefilter);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemp);//更新fact中变量值
                        update(attendance_ruleactiverulescheduletemps);//更新fact中变量值
                        update(attendance_ruleactiveruleshifts);//更新fact中变量值
                        update(attendance_ruleactiverulesrfactionparam);//更新fact中变量值
                        update(attendance_ruleactiveruletemp);//更新fact中变量值
                        update(attendance_ruleactiveruletemprule);//更新fact中变量值
            end